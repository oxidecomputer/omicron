# Sled Agent Configuration

# Identifies whether sled agent treats itself as a scrimlet or a gimlet.
#
# If this is set to "scrimlet", the sled agent treats itself as a scrimlet.
# If this is set to "gimlet", the sled agent treats itself as a gimlet.
# If this is set to "auto":
# - On illumos, the sled automatically detects whether or not it is a scrimlet.
# - On all other platforms, the sled assumes it is a gimlet.
sled_mode = "auto"

# Identifies the revision of the sidecar that is attached, if one is attached.
# TODO: This field should be removed once Gimlets have the ability to auto-detect
# this information.
sidecar_revision.physical = "b"

# An optional data link from which we extract a MAC address.
# This is used as a unique identifier for the bootstrap address.
#
# If empty, this will be equivalent to the first result from:
# $ dladm show-phys -p -o LINK
data_link = "cxgbe0"

# Percentage of usable physical DRAM to use for the VMM reservoir, which
# guest memory is pulled from.
vmm_reservoir_percentage = 80

# Swap device size for the system.
# We pick 256 GiB somewhat arbitrarily, since the device is sparsely allocated.
# This field is only needed for the gimlet configuration: helios as packaged
# for non-gimlets will configure a swap device via /etc/vfstab.
swap_device_size_gb = 256

data_links = ["cxgbe0", "cxgbe1"]

[log]
level = "info"
mode = "file"
path = "/dev/stdout"
if_exists = "append"
