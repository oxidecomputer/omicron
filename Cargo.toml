[workspace]
members = [
    "omicron-bootstrap-agent",
    "omicron-common",
    "omicron-nexus",
    "omicron-sled-agent",
    "oximeter/oximeter",
    "oximeter/oximeter-macro-impl",
]

default-members = [
    "omicron-bootstrap-agent",
    "omicron-common",
    "omicron-nexus",
    "omicron-sled-agent",
    "oximeter/oximeter",
    "oximeter/oximeter-macro-impl",
]
resolver = "2"

[profile.dev]
panic = "abort"

[profile.release]
panic = "abort"

#
# It's common during development to use a local copy of dropshot or steno in the
# parent directory.  If you want to use those, uncomment one of these blocks.
#
#[patch."https://github.com/oxidecomputer/dropshot"]
#dropshot = { path = "../dropshot/dropshot" }
#[patch."https://github.com/oxidecomputer/steno"]
#steno = { path = "../steno" }

#
# We maintain a fork of pq-sys to address
# https://github.com/sgrif/pq-sys/issues/36.  If the fix for that (PR#37) lands
# upstream, we can remove our fork.
#
[patch.crates-io.pq-sys]
#git = 'https://github.com/oxidecomputer/pq-sys'
#branch = "oxide"
path = "../pq-sys-dynamic"
