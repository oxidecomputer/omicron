using provided RNG seed: reconfigurator-cli-test
> # Load example system
> load-example --nsleds 3 --ndisks-per-sled 3
loaded example system with:
- collection: f45ba181-4b56-42cc-a762-874d90184a43
- blueprint: dbcbd3d6-41ff-48ae-ac0b-1becc9b2fd21


> # Print the default target release
> show
configured external DNS zone name: oxide.example
configured silo names: example-silo
internal DNS generations: 1
external DNS generations: 1
target number of Nexus instances: default
target release: unset



> # Load a target release from a fake file.
> # This file was generated by the test runner in a temporary directory that this
> # invocation of `reconfigurator-cli` is running out of as its working directory.
> set target-release repo-1.0.0.zip
INFO extracting uploaded archive to <EXTRACTING_UPLOADED_ARCHIVE_TO_REDACTED>
INFO created directory to store extracted artifacts, path: <CREATED_DIRECTORY_TO_STORE_EXTRACTED_ARTIFACTS_PATH_REDACTED>
INFO added artifact, name: SimGimletSp, kind: gimlet_sp, version: 1.0.0, hash: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670, length: 747
INFO added artifact, name: fake-gimlet-rot, kind: gimlet_rot_image_a, version: 1.0.0, hash: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a, length: 735
INFO added artifact, name: fake-gimlet-rot, kind: gimlet_rot_image_b, version: 1.0.0, hash: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a, length: 735
INFO added artifact, name: fake-gimlet-rot-bootloader, kind: gimlet_rot_bootloader, version: 1.0.0, hash: 005ea358f1cd316df42465b1e3a0334ea22cc0c0442cf9ddf9b42fbf49780236, length: 750
INFO added artifact, name: fake-host, kind: host_phase_1, version: 1.0.0, hash: 2053f8594971bbf0a7326c833e2ffc12b065b9d823b9c0b967d275fa595e4e89, length: 524288
INFO added artifact, name: fake-host, kind: host_phase_2, version: 1.0.0, hash: f3dd0c7a1bd4500ea0d8bcf67581f576d47752b2f1998a4cb0f0c3155c483008, length: 1048576
INFO added artifact, name: fake-trampoline, kind: trampoline_phase_1, version: 1.0.0, hash: 9b7575cad720f017e936fe5994fc4e21fe040acaaf83c2edd86132aa3d667c7b, length: 524288
INFO added artifact, name: fake-trampoline, kind: trampoline_phase_2, version: 1.0.0, hash: f355fb8429a7e0f0716dad035f9a06c799168d6c0ffcde85b1a96fef21d4b53e, length: 1048576
INFO added artifact, name: zone1, kind: zone, version: 1.0.0, hash: 584bcfabf852d22ca322ca92076836cc8c9aa0489bc4132fef345271f2a00daf, length: 6612
INFO added artifact, name: zone2, kind: zone, version: 1.0.0, hash: 4063276e4ce47896848da87c83a9e28949c104d92581d62e50bea7ff7a8cfe1c, length: 6613
INFO added artifact, name: fake-psc-sp, kind: psc_sp, version: 1.0.0, hash: f896cf5b19ca85864d470ad8587f980218bff3954e7f52bbd999699cd0f9635b, length: 744
INFO added artifact, name: fake-psc-rot, kind: psc_rot_image_a, version: 1.0.0, hash: 179eb660ebc92e28b6748b6af03d9f998d6131319edd4654a1e948454c62551b, length: 750
INFO added artifact, name: fake-psc-rot, kind: psc_rot_image_b, version: 1.0.0, hash: 179eb660ebc92e28b6748b6af03d9f998d6131319edd4654a1e948454c62551b, length: 750
INFO added artifact, name: fake-psc-rot-bootloader, kind: psc_rot_bootloader, version: 1.0.0, hash: 005ea358f1cd316df42465b1e3a0334ea22cc0c0442cf9ddf9b42fbf49780236, length: 750
INFO added artifact, name: fake-switch-sp, kind: switch_sp, version: 1.0.0, hash: ab32ec86e942e1a16c8d43ea143cd80dd05a9639529d3569b1c24dfa2587ee74, length: 740
INFO added artifact, name: fake-switch-rot, kind: switch_rot_image_a, version: 1.0.0, hash: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a, length: 735
INFO added artifact, name: fake-switch-rot, kind: switch_rot_image_b, version: 1.0.0, hash: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a, length: 735
INFO added artifact, name: fake-switch-rot-bootloader, kind: switch_rot_bootloader, version: 1.0.0, hash: 005ea358f1cd316df42465b1e3a0334ea22cc0c0442cf9ddf9b42fbf49780236, length: 750
set target release based on repo-1.0.0.zip


> # Print the default target release again.
> show
configured external DNS zone name: oxide.example
configured silo names: example-silo
internal DNS generations: 1
external DNS generations: 1
target number of Nexus instances: default
target release: 1.0.0 (system-update-v1.0.0.zip)
    artifact: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670 gimlet_sp (SimGimletSp version 1.0.0)
    artifact: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a gimlet_rot_image_a (fake-gimlet-rot version 1.0.0)
    artifact: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a gimlet_rot_image_b (fake-gimlet-rot version 1.0.0)
    artifact: 005ea358f1cd316df42465b1e3a0334ea22cc0c0442cf9ddf9b42fbf49780236 gimlet_rot_bootloader (fake-gimlet-rot-bootloader version 1.0.0)
    artifact: 2053f8594971bbf0a7326c833e2ffc12b065b9d823b9c0b967d275fa595e4e89 host_phase_1 (fake-host version 1.0.0)
    artifact: f3dd0c7a1bd4500ea0d8bcf67581f576d47752b2f1998a4cb0f0c3155c483008 host_phase_2 (fake-host version 1.0.0)
    artifact: 9b7575cad720f017e936fe5994fc4e21fe040acaaf83c2edd86132aa3d667c7b trampoline_phase_1 (fake-trampoline version 1.0.0)
    artifact: f355fb8429a7e0f0716dad035f9a06c799168d6c0ffcde85b1a96fef21d4b53e trampoline_phase_2 (fake-trampoline version 1.0.0)
    artifact: 584bcfabf852d22ca322ca92076836cc8c9aa0489bc4132fef345271f2a00daf zone (zone1 version 1.0.0)
    artifact: 4063276e4ce47896848da87c83a9e28949c104d92581d62e50bea7ff7a8cfe1c zone (zone2 version 1.0.0)
    artifact: f896cf5b19ca85864d470ad8587f980218bff3954e7f52bbd999699cd0f9635b psc_sp (fake-psc-sp version 1.0.0)
    artifact: 179eb660ebc92e28b6748b6af03d9f998d6131319edd4654a1e948454c62551b psc_rot_image_a (fake-psc-rot version 1.0.0)
    artifact: 179eb660ebc92e28b6748b6af03d9f998d6131319edd4654a1e948454c62551b psc_rot_image_b (fake-psc-rot version 1.0.0)
    artifact: 005ea358f1cd316df42465b1e3a0334ea22cc0c0442cf9ddf9b42fbf49780236 psc_rot_bootloader (fake-psc-rot-bootloader version 1.0.0)
    artifact: ab32ec86e942e1a16c8d43ea143cd80dd05a9639529d3569b1c24dfa2587ee74 switch_sp (fake-switch-sp version 1.0.0)
    artifact: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a switch_rot_image_a (fake-switch-rot version 1.0.0)
    artifact: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a switch_rot_image_b (fake-switch-rot version 1.0.0)
    artifact: 005ea358f1cd316df42465b1e3a0334ea22cc0c0442cf9ddf9b42fbf49780236 switch_rot_bootloader (fake-switch-rot-bootloader version 1.0.0)



> # Test that this state survives a save/load operation.
> save saved.out
saved planning input, collections, and blueprints to "saved.out"

> wipe all
- wiped system, reconfigurator-sim config, and RNG state

                 - reset seed to reconfigurator-cli-test

> # This should NOT show the target release.
> show
configured external DNS zone name: oxide.example
configured silo names: example-silo
internal DNS generations: 
external DNS generations: 
target number of Nexus instances: default
target release: unset


> load saved.out
loaded data from "saved.out"
result:
  system:
    using collection f45ba181-4b56-42cc-a762-874d90184a43 as source of sled inventory data
    loaded sleds: 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c, 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6, d81c6a84-79b8-4958-ae41-ea46c9b19763
    loaded collections: f45ba181-4b56-42cc-a762-874d90184a43
    loaded blueprints: 184f10b3-61cb-41ef-9b93-3489b2bac559, dbcbd3d6-41ff-48ae-ac0b-1becc9b2fd21
    loaded service IP pool ranges: [V4(Ipv4Range { first: 192.0.2.2, last: 192.0.2.20 })]
    loaded internal DNS generations: (none)
    loaded external DNS generations: (none)
  config:
    configured external DNS zone name: oxide.example
    configured silo names: example-silo


> # This should show the target release.
> show
configured external DNS zone name: oxide.example
configured silo names: example-silo
internal DNS generations: 1
external DNS generations: 1
target number of Nexus instances: default
target release: 1.0.0 (system-update-v1.0.0.zip)
    artifact: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670 gimlet_sp (SimGimletSp version 1.0.0)
    artifact: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a gimlet_rot_image_a (fake-gimlet-rot version 1.0.0)
    artifact: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a gimlet_rot_image_b (fake-gimlet-rot version 1.0.0)
    artifact: 005ea358f1cd316df42465b1e3a0334ea22cc0c0442cf9ddf9b42fbf49780236 gimlet_rot_bootloader (fake-gimlet-rot-bootloader version 1.0.0)
    artifact: 2053f8594971bbf0a7326c833e2ffc12b065b9d823b9c0b967d275fa595e4e89 host_phase_1 (fake-host version 1.0.0)
    artifact: f3dd0c7a1bd4500ea0d8bcf67581f576d47752b2f1998a4cb0f0c3155c483008 host_phase_2 (fake-host version 1.0.0)
    artifact: 9b7575cad720f017e936fe5994fc4e21fe040acaaf83c2edd86132aa3d667c7b trampoline_phase_1 (fake-trampoline version 1.0.0)
    artifact: f355fb8429a7e0f0716dad035f9a06c799168d6c0ffcde85b1a96fef21d4b53e trampoline_phase_2 (fake-trampoline version 1.0.0)
    artifact: 584bcfabf852d22ca322ca92076836cc8c9aa0489bc4132fef345271f2a00daf zone (zone1 version 1.0.0)
    artifact: 4063276e4ce47896848da87c83a9e28949c104d92581d62e50bea7ff7a8cfe1c zone (zone2 version 1.0.0)
    artifact: f896cf5b19ca85864d470ad8587f980218bff3954e7f52bbd999699cd0f9635b psc_sp (fake-psc-sp version 1.0.0)
    artifact: 179eb660ebc92e28b6748b6af03d9f998d6131319edd4654a1e948454c62551b psc_rot_image_a (fake-psc-rot version 1.0.0)
    artifact: 179eb660ebc92e28b6748b6af03d9f998d6131319edd4654a1e948454c62551b psc_rot_image_b (fake-psc-rot version 1.0.0)
    artifact: 005ea358f1cd316df42465b1e3a0334ea22cc0c0442cf9ddf9b42fbf49780236 psc_rot_bootloader (fake-psc-rot-bootloader version 1.0.0)
    artifact: ab32ec86e942e1a16c8d43ea143cd80dd05a9639529d3569b1c24dfa2587ee74 switch_sp (fake-switch-sp version 1.0.0)
    artifact: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a switch_rot_image_a (fake-switch-rot version 1.0.0)
    artifact: 04e4a7fdb84acca92c8fd3235e26d64ea61bef8a5f98202589fd346989c5720a switch_rot_image_b (fake-switch-rot version 1.0.0)
    artifact: 005ea358f1cd316df42465b1e3a0334ea22cc0c0442cf9ddf9b42fbf49780236 switch_rot_bootloader (fake-switch-rot-bootloader version 1.0.0)




> # Great.  Now, let's run through an upgrade!
> # First, print out what we've got.
> sled-list
ID                                   SERIAL  NZPOOLS SUBNET                  
2b8f0cb3-0295-4b3c-bc58-4fe88b57112c serial1 3       fd00:1122:3344:102::/64 
98e6b7c2-2efa-41ca-b20a-0a4d61102fe6 serial0 3       fd00:1122:3344:101::/64 
d81c6a84-79b8-4958-ae41-ea46c9b19763 serial2 3       fd00:1122:3344:103::/64 

> blueprint-list
T ENA ID                                   PARENT                               TIME_CREATED             
      184f10b3-61cb-41ef-9b93-3489b2bac559 <none>                               <REDACTED_TIMESTAMP> 
* yes dbcbd3d6-41ff-48ae-ac0b-1becc9b2fd21 184f10b3-61cb-41ef-9b93-3489b2bac559 <REDACTED_TIMESTAMP> 

> inventory-list
ID                                   NERRORS TIME_DONE                
f45ba181-4b56-42cc-a762-874d90184a43 0       <REDACTED_TIMESTAMP> 


> # First step: upgrade one SP.
> blueprint-plan dbcbd3d6-41ff-48ae-ac0b-1becc9b2fd21 f45ba181-4b56-42cc-a762-874d90184a43
INFO sufficient BoundaryNtp zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient Clickhouse zones exist in plan, desired_count: 1, current_count: 1
INFO sufficient ClickhouseKeeper zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient ClickhouseServer zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CockroachDb zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CruciblePantry zones exist in plan, desired_count: 0, current_count: 3
INFO sufficient InternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient ExternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Nexus zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Oximeter zones exist in plan, desired_count: 0, current_count: 0
INFO configuring SP update, artifact_version: 1.0.0, artifact_hash: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670, expected_inactive_version: NoValidVersion, expected_active_version: 0.0.1, component: sp, sp_slot: 0, sp_type: Sled, serial_number: serial0, part_number: model0
INFO reached maximum number of pending SP updates, max: 1
INFO will ensure cockroachdb setting, setting: cluster.preserve_downgrade_option, value: DoNotModify
generated blueprint 8da82a8e-bf97-4fbd-8ddd-9f6462732cf1 based on parent blueprint dbcbd3d6-41ff-48ae-ac0b-1becc9b2fd21

> blueprint-diff dbcbd3d6-41ff-48ae-ac0b-1becc9b2fd21 8da82a8e-bf97-4fbd-8ddd-9f6462732cf1
from: blueprint dbcbd3d6-41ff-48ae-ac0b-1becc9b2fd21
to:   blueprint 8da82a8e-bf97-4fbd-8ddd-9f6462732cf1

 COCKROACHDB SETTINGS:
    state fingerprint:::::::::::::::::   (none) (unchanged)
    cluster.preserve_downgrade_option:   (do not modify) (unchanged)

 METADATA:
    internal DNS version:::   1 (unchanged)
    external DNS version:::   1 (unchanged)
    target release min gen:   1 (unchanged)

 OXIMETER SETTINGS:
    generation:   1 (unchanged)
    read from::   SingleNode (unchanged)

 PENDING MGS UPDATES:

    Pending MGS-managed updates (all baseboards):
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    sp_type   slot   part_number   serial_number   artifact_hash                                                      artifact_version   details                                                                                            
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+   sled      0      model0        serial0         7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670   1.0.0              Sp { expected_active_version: ArtifactVersion("0.0.1"), expected_inactive_version: NoValidVersion }


internal DNS:
  DNS zone: "control-plane.oxide.internal" (unchanged)
    name: 0845966e-26eb-4ad3-9785-a22491d94f92.host          (records: 1)
        AAAA fd00:1122:3344:103::25
    name: 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host          (records: 1)
        AAAA fd00:1122:3344:101::24
    name: 2b7946df-0109-4b6d-afbc-a840454056b4.host          (records: 1)
        AAAA fd00:1122:3344:1::1
    name: 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled          (records: 1)
        AAAA fd00:1122:3344:102::1
    name: 34a38622-f44c-4fd1-834d-d15bac071ca7.host          (records: 1)
        AAAA fd00:1122:3344:101::27
    name: 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host          (records: 1)
        AAAA fd00:1122:3344:102::26
    name: 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host          (records: 1)
        AAAA fd00:1122:3344:103::24
    name: 506d948a-3653-4682-990d-5ab6755a7152.host          (records: 1)
        AAAA fd00:1122:3344:103::26
    name: 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host          (records: 1)
        AAAA fd00:1122:3344:3::1
    name: 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host          (records: 1)
        AAAA fd00:1122:3344:102::23
    name: 86ea186b-aace-4835-a507-8f146379051a.host          (records: 1)
        AAAA fd00:1122:3344:102::24
    name: 87c334bd-e097-48c8-b292-fea51783e7de.host          (records: 1)
        AAAA fd00:1122:3344:102::22
    name: 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host          (records: 1)
        AAAA fd00:1122:3344:101::21
    name: 8c678407-1c39-44c1-bb35-fe21d505e085.host          (records: 1)
        AAAA fd00:1122:3344:101::26
    name: 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host          (records: 1)
        AAAA fd00:1122:3344:2::1
    name: 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host          (records: 1)
        AAAA fd00:1122:3344:102::28
    name: 955bb10b-1917-4a3e-a1b9-48756797ab4d.host          (records: 1)
        AAAA fd00:1122:3344:102::21
    name: 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled          (records: 1)
        AAAA fd00:1122:3344:101::1
    name: 9f900aca-853f-4851-9625-8195c5f73c08.host          (records: 1)
        AAAA fd00:1122:3344:101::23
    name: @                                                  (records: 3)
        NS   ns1.control-plane.oxide.internal
        NS   ns2.control-plane.oxide.internal
        NS   ns3.control-plane.oxide.internal
    name: _clickhouse-admin-single-server._tcp               (records: 1)
        SRV  port  8888 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse-native._tcp                            (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse._tcp                                   (records: 1)
        SRV  port  8123 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _crucible-pantry._tcp                              (records: 3)
        SRV  port 17000 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host.control-plane.oxide.internal
        SRV  port 17000 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host.control-plane.oxide.internal
        SRV  port 17000 bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host.control-plane.oxide.internal
    name: _crucible._tcp.0845966e-26eb-4ad3-9785-a22491d94f92 (records: 1)
        SRV  port 32345 0845966e-26eb-4ad3-9785-a22491d94f92.host.control-plane.oxide.internal
    name: _crucible._tcp.34a38622-f44c-4fd1-834d-d15bac071ca7 (records: 1)
        SRV  port 32345 34a38622-f44c-4fd1-834d-d15bac071ca7.host.control-plane.oxide.internal
    name: _crucible._tcp.42fb66d7-1425-4072-a7d5-a4ef4c3b45c4 (records: 1)
        SRV  port 32345 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host.control-plane.oxide.internal
    name: _crucible._tcp.506d948a-3653-4682-990d-5ab6755a7152 (records: 1)
        SRV  port 32345 506d948a-3653-4682-990d-5ab6755a7152.host.control-plane.oxide.internal
    name: _crucible._tcp.8c678407-1c39-44c1-bb35-fe21d505e085 (records: 1)
        SRV  port 32345 8c678407-1c39-44c1-bb35-fe21d505e085.host.control-plane.oxide.internal
    name: _crucible._tcp.8fa00fff-4d55-4b19-8241-1ca8e9c0b280 (records: 1)
        SRV  port 32345 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host.control-plane.oxide.internal
    name: _crucible._tcp.dd3b3b3b-066c-4910-9303-2d1bed652fda (records: 1)
        SRV  port 32345 dd3b3b3b-066c-4910-9303-2d1bed652fda.host.control-plane.oxide.internal
    name: _crucible._tcp.e3604609-0ce9-42ff-a7be-ddf0b09b4808 (records: 1)
        SRV  port 32345 e3604609-0ce9-42ff-a7be-ddf0b09b4808.host.control-plane.oxide.internal
    name: _crucible._tcp.f30236dd-8c41-4575-b2e6-cbac71dde8ad (records: 1)
        SRV  port 32345 f30236dd-8c41-4575-b2e6-cbac71dde8ad.host.control-plane.oxide.internal
    name: _external-dns._tcp                                 (records: 3)
        SRV  port  5353 86ea186b-aace-4835-a507-8f146379051a.host.control-plane.oxide.internal
        SRV  port  5353 9f900aca-853f-4851-9625-8195c5f73c08.host.control-plane.oxide.internal
        SRV  port  5353 edfb0c0c-6276-4926-b21c-4bc1e968242a.host.control-plane.oxide.internal
    name: _internal-ntp._tcp                                 (records: 3)
        SRV  port   123 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host.control-plane.oxide.internal
        SRV  port   123 955bb10b-1917-4a3e-a1b9-48756797ab4d.host.control-plane.oxide.internal
        SRV  port   123 bb9bec6d-c610-4315-8969-c728bf39b4e1.host.control-plane.oxide.internal
    name: _nameservice._tcp                                  (records: 3)
        SRV  port  5353 2b7946df-0109-4b6d-afbc-a840454056b4.host.control-plane.oxide.internal
        SRV  port  5353 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host.control-plane.oxide.internal
        SRV  port  5353 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host.control-plane.oxide.internal
    name: _nexus._tcp                                        (records: 3)
        SRV  port 12221 87c334bd-e097-48c8-b292-fea51783e7de.host.control-plane.oxide.internal
        SRV  port 12221 f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host.control-plane.oxide.internal
        SRV  port 12221 fc1ad58e-8478-4e25-923c-8b177c04444e.host.control-plane.oxide.internal
    name: _oximeter-reader._tcp                              (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _repo-depot._tcp                                   (records: 3)
        SRV  port 12348 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled.control-plane.oxide.internal
        SRV  port 12348 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled.control-plane.oxide.internal
        SRV  port 12348 d81c6a84-79b8-4958-ae41-ea46c9b19763.sled.control-plane.oxide.internal
    name: bb9bec6d-c610-4315-8969-c728bf39b4e1.host          (records: 1)
        AAAA fd00:1122:3344:103::21
    name: bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host          (records: 1)
        AAAA fd00:1122:3344:102::25
    name: d81c6a84-79b8-4958-ae41-ea46c9b19763.sled          (records: 1)
        AAAA fd00:1122:3344:103::1
    name: dd3b3b3b-066c-4910-9303-2d1bed652fda.host          (records: 1)
        AAAA fd00:1122:3344:101::25
    name: e3604609-0ce9-42ff-a7be-ddf0b09b4808.host          (records: 1)
        AAAA fd00:1122:3344:102::27
    name: edfb0c0c-6276-4926-b21c-4bc1e968242a.host          (records: 1)
        AAAA fd00:1122:3344:103::23
    name: f30236dd-8c41-4575-b2e6-cbac71dde8ad.host          (records: 1)
        AAAA fd00:1122:3344:103::27
    name: f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host          (records: 1)
        AAAA fd00:1122:3344:103::22
    name: fc1ad58e-8478-4e25-923c-8b177c04444e.host          (records: 1)
        AAAA fd00:1122:3344:101::22
    name: ns1                                                (records: 1)
        AAAA fd00:1122:3344:1::1
    name: ns2                                                (records: 1)
        AAAA fd00:1122:3344:2::1
    name: ns3                                                (records: 1)
        AAAA fd00:1122:3344:3::1

external DNS:
  DNS zone: "oxide.example" (unchanged)
    name: @                                                  (records: 3)
        NS   ns1.oxide.example
        NS   ns2.oxide.example
        NS   ns3.oxide.example
    name: example-silo.sys                                   (records: 3)
        A    192.0.2.2
        A    192.0.2.3
        A    192.0.2.4
    name: ns1                                                (records: 1)
        A    198.51.100.1
    name: ns2                                                (records: 1)
        A    198.51.100.2
    name: ns3                                                (records: 1)
        A    198.51.100.3




> # If we generate another plan, there should be no change.
> blueprint-plan 8da82a8e-bf97-4fbd-8ddd-9f6462732cf1 f45ba181-4b56-42cc-a762-874d90184a43
INFO sufficient BoundaryNtp zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient Clickhouse zones exist in plan, desired_count: 1, current_count: 1
INFO sufficient ClickhouseKeeper zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient ClickhouseServer zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CockroachDb zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CruciblePantry zones exist in plan, desired_count: 0, current_count: 3
INFO sufficient InternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient ExternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Nexus zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Oximeter zones exist in plan, desired_count: 0, current_count: 0
INFO SP update not yet completed (will keep it), artifact_version: 1.0.0, artifact_hash: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670, expected_inactive_version: NoValidVersion, expected_active_version: 0.0.1, component: sp, sp_slot: 0, sp_type: Sled, serial_number: serial0, part_number: model0
INFO reached maximum number of pending SP updates, max: 1
INFO will ensure cockroachdb setting, setting: cluster.preserve_downgrade_option, value: DoNotModify
generated blueprint 58d5e830-0884-47d8-a7cd-b2b3751adeb4 based on parent blueprint 8da82a8e-bf97-4fbd-8ddd-9f6462732cf1

> blueprint-diff 8da82a8e-bf97-4fbd-8ddd-9f6462732cf1 58d5e830-0884-47d8-a7cd-b2b3751adeb4
from: blueprint 8da82a8e-bf97-4fbd-8ddd-9f6462732cf1
to:   blueprint 58d5e830-0884-47d8-a7cd-b2b3751adeb4

 COCKROACHDB SETTINGS:
    state fingerprint:::::::::::::::::   (none) (unchanged)
    cluster.preserve_downgrade_option:   (do not modify) (unchanged)

 METADATA:
    internal DNS version:::   1 (unchanged)
    external DNS version:::   1 (unchanged)
    target release min gen:   1 (unchanged)

 OXIMETER SETTINGS:
    generation:   1 (unchanged)
    read from::   SingleNode (unchanged)


internal DNS:
  DNS zone: "control-plane.oxide.internal" (unchanged)
    name: 0845966e-26eb-4ad3-9785-a22491d94f92.host          (records: 1)
        AAAA fd00:1122:3344:103::25
    name: 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host          (records: 1)
        AAAA fd00:1122:3344:101::24
    name: 2b7946df-0109-4b6d-afbc-a840454056b4.host          (records: 1)
        AAAA fd00:1122:3344:1::1
    name: 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled          (records: 1)
        AAAA fd00:1122:3344:102::1
    name: 34a38622-f44c-4fd1-834d-d15bac071ca7.host          (records: 1)
        AAAA fd00:1122:3344:101::27
    name: 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host          (records: 1)
        AAAA fd00:1122:3344:102::26
    name: 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host          (records: 1)
        AAAA fd00:1122:3344:103::24
    name: 506d948a-3653-4682-990d-5ab6755a7152.host          (records: 1)
        AAAA fd00:1122:3344:103::26
    name: 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host          (records: 1)
        AAAA fd00:1122:3344:3::1
    name: 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host          (records: 1)
        AAAA fd00:1122:3344:102::23
    name: 86ea186b-aace-4835-a507-8f146379051a.host          (records: 1)
        AAAA fd00:1122:3344:102::24
    name: 87c334bd-e097-48c8-b292-fea51783e7de.host          (records: 1)
        AAAA fd00:1122:3344:102::22
    name: 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host          (records: 1)
        AAAA fd00:1122:3344:101::21
    name: 8c678407-1c39-44c1-bb35-fe21d505e085.host          (records: 1)
        AAAA fd00:1122:3344:101::26
    name: 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host          (records: 1)
        AAAA fd00:1122:3344:2::1
    name: 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host          (records: 1)
        AAAA fd00:1122:3344:102::28
    name: 955bb10b-1917-4a3e-a1b9-48756797ab4d.host          (records: 1)
        AAAA fd00:1122:3344:102::21
    name: 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled          (records: 1)
        AAAA fd00:1122:3344:101::1
    name: 9f900aca-853f-4851-9625-8195c5f73c08.host          (records: 1)
        AAAA fd00:1122:3344:101::23
    name: @                                                  (records: 3)
        NS   ns1.control-plane.oxide.internal
        NS   ns2.control-plane.oxide.internal
        NS   ns3.control-plane.oxide.internal
    name: _clickhouse-admin-single-server._tcp               (records: 1)
        SRV  port  8888 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse-native._tcp                            (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse._tcp                                   (records: 1)
        SRV  port  8123 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _crucible-pantry._tcp                              (records: 3)
        SRV  port 17000 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host.control-plane.oxide.internal
        SRV  port 17000 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host.control-plane.oxide.internal
        SRV  port 17000 bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host.control-plane.oxide.internal
    name: _crucible._tcp.0845966e-26eb-4ad3-9785-a22491d94f92 (records: 1)
        SRV  port 32345 0845966e-26eb-4ad3-9785-a22491d94f92.host.control-plane.oxide.internal
    name: _crucible._tcp.34a38622-f44c-4fd1-834d-d15bac071ca7 (records: 1)
        SRV  port 32345 34a38622-f44c-4fd1-834d-d15bac071ca7.host.control-plane.oxide.internal
    name: _crucible._tcp.42fb66d7-1425-4072-a7d5-a4ef4c3b45c4 (records: 1)
        SRV  port 32345 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host.control-plane.oxide.internal
    name: _crucible._tcp.506d948a-3653-4682-990d-5ab6755a7152 (records: 1)
        SRV  port 32345 506d948a-3653-4682-990d-5ab6755a7152.host.control-plane.oxide.internal
    name: _crucible._tcp.8c678407-1c39-44c1-bb35-fe21d505e085 (records: 1)
        SRV  port 32345 8c678407-1c39-44c1-bb35-fe21d505e085.host.control-plane.oxide.internal
    name: _crucible._tcp.8fa00fff-4d55-4b19-8241-1ca8e9c0b280 (records: 1)
        SRV  port 32345 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host.control-plane.oxide.internal
    name: _crucible._tcp.dd3b3b3b-066c-4910-9303-2d1bed652fda (records: 1)
        SRV  port 32345 dd3b3b3b-066c-4910-9303-2d1bed652fda.host.control-plane.oxide.internal
    name: _crucible._tcp.e3604609-0ce9-42ff-a7be-ddf0b09b4808 (records: 1)
        SRV  port 32345 e3604609-0ce9-42ff-a7be-ddf0b09b4808.host.control-plane.oxide.internal
    name: _crucible._tcp.f30236dd-8c41-4575-b2e6-cbac71dde8ad (records: 1)
        SRV  port 32345 f30236dd-8c41-4575-b2e6-cbac71dde8ad.host.control-plane.oxide.internal
    name: _external-dns._tcp                                 (records: 3)
        SRV  port  5353 86ea186b-aace-4835-a507-8f146379051a.host.control-plane.oxide.internal
        SRV  port  5353 9f900aca-853f-4851-9625-8195c5f73c08.host.control-plane.oxide.internal
        SRV  port  5353 edfb0c0c-6276-4926-b21c-4bc1e968242a.host.control-plane.oxide.internal
    name: _internal-ntp._tcp                                 (records: 3)
        SRV  port   123 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host.control-plane.oxide.internal
        SRV  port   123 955bb10b-1917-4a3e-a1b9-48756797ab4d.host.control-plane.oxide.internal
        SRV  port   123 bb9bec6d-c610-4315-8969-c728bf39b4e1.host.control-plane.oxide.internal
    name: _nameservice._tcp                                  (records: 3)
        SRV  port  5353 2b7946df-0109-4b6d-afbc-a840454056b4.host.control-plane.oxide.internal
        SRV  port  5353 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host.control-plane.oxide.internal
        SRV  port  5353 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host.control-plane.oxide.internal
    name: _nexus._tcp                                        (records: 3)
        SRV  port 12221 87c334bd-e097-48c8-b292-fea51783e7de.host.control-plane.oxide.internal
        SRV  port 12221 f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host.control-plane.oxide.internal
        SRV  port 12221 fc1ad58e-8478-4e25-923c-8b177c04444e.host.control-plane.oxide.internal
    name: _oximeter-reader._tcp                              (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _repo-depot._tcp                                   (records: 3)
        SRV  port 12348 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled.control-plane.oxide.internal
        SRV  port 12348 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled.control-plane.oxide.internal
        SRV  port 12348 d81c6a84-79b8-4958-ae41-ea46c9b19763.sled.control-plane.oxide.internal
    name: bb9bec6d-c610-4315-8969-c728bf39b4e1.host          (records: 1)
        AAAA fd00:1122:3344:103::21
    name: bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host          (records: 1)
        AAAA fd00:1122:3344:102::25
    name: d81c6a84-79b8-4958-ae41-ea46c9b19763.sled          (records: 1)
        AAAA fd00:1122:3344:103::1
    name: dd3b3b3b-066c-4910-9303-2d1bed652fda.host          (records: 1)
        AAAA fd00:1122:3344:101::25
    name: e3604609-0ce9-42ff-a7be-ddf0b09b4808.host          (records: 1)
        AAAA fd00:1122:3344:102::27
    name: edfb0c0c-6276-4926-b21c-4bc1e968242a.host          (records: 1)
        AAAA fd00:1122:3344:103::23
    name: f30236dd-8c41-4575-b2e6-cbac71dde8ad.host          (records: 1)
        AAAA fd00:1122:3344:103::27
    name: f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host          (records: 1)
        AAAA fd00:1122:3344:103::22
    name: fc1ad58e-8478-4e25-923c-8b177c04444e.host          (records: 1)
        AAAA fd00:1122:3344:101::22
    name: ns1                                                (records: 1)
        AAAA fd00:1122:3344:1::1
    name: ns2                                                (records: 1)
        AAAA fd00:1122:3344:2::1
    name: ns3                                                (records: 1)
        AAAA fd00:1122:3344:3::1

external DNS:
  DNS zone: "oxide.example" (unchanged)
    name: @                                                  (records: 3)
        NS   ns1.oxide.example
        NS   ns2.oxide.example
        NS   ns3.oxide.example
    name: example-silo.sys                                   (records: 3)
        A    192.0.2.2
        A    192.0.2.3
        A    192.0.2.4
    name: ns1                                                (records: 1)
        A    198.51.100.1
    name: ns2                                                (records: 1)
        A    198.51.100.2
    name: ns3                                                (records: 1)
        A    198.51.100.3




> # Now, update the simulated SP to reflect that the update completed.
> # Collect inventory from it and use that collection for another planning step.
> # This should report that the update completed, remove that update, and add one
> # for another sled.
> sled-update-sp 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6 --active 1.0.0
set sled 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6 SP versions: active -> 1.0.0

> inventory-generate
generated inventory collection eb0796d5-ab8a-4f7b-a884-b4aeacb8ab51 from configured sleds

> blueprint-plan 58d5e830-0884-47d8-a7cd-b2b3751adeb4 eb0796d5-ab8a-4f7b-a884-b4aeacb8ab51
INFO sufficient BoundaryNtp zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient Clickhouse zones exist in plan, desired_count: 1, current_count: 1
INFO sufficient ClickhouseKeeper zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient ClickhouseServer zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CockroachDb zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CruciblePantry zones exist in plan, desired_count: 0, current_count: 3
INFO sufficient InternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient ExternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Nexus zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Oximeter zones exist in plan, desired_count: 0, current_count: 0
INFO SP update completed (will remove it and re-evaluate board), artifact_version: 1.0.0, artifact_hash: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670, expected_inactive_version: NoValidVersion, expected_active_version: 0.0.1, component: sp, sp_slot: 0, sp_type: Sled, serial_number: serial0, part_number: model0
INFO skipping board for SP update, serial_number: serial0, part_number: model0
INFO configuring SP update, artifact_version: 1.0.0, artifact_hash: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670, expected_inactive_version: NoValidVersion, expected_active_version: 0.0.1, component: sp, sp_slot: 1, sp_type: Sled, serial_number: serial1, part_number: model1
INFO reached maximum number of pending SP updates, max: 1
INFO will ensure cockroachdb setting, setting: cluster.preserve_downgrade_option, value: DoNotModify
generated blueprint af934083-59b5-4bf6-8966-6fb5292c29e1 based on parent blueprint 58d5e830-0884-47d8-a7cd-b2b3751adeb4

> blueprint-diff 58d5e830-0884-47d8-a7cd-b2b3751adeb4 af934083-59b5-4bf6-8966-6fb5292c29e1
from: blueprint 58d5e830-0884-47d8-a7cd-b2b3751adeb4
to:   blueprint af934083-59b5-4bf6-8966-6fb5292c29e1

 COCKROACHDB SETTINGS:
    state fingerprint:::::::::::::::::   (none) (unchanged)
    cluster.preserve_downgrade_option:   (do not modify) (unchanged)

 METADATA:
    internal DNS version:::   1 (unchanged)
    external DNS version:::   1 (unchanged)
    target release min gen:   1 (unchanged)

 OXIMETER SETTINGS:
    generation:   1 (unchanged)
    read from::   SingleNode (unchanged)

 PENDING MGS UPDATES:

    Pending MGS-managed updates (all baseboards):
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    sp_type   slot   part_number   serial_number   artifact_hash                                                      artifact_version   details                                                                                            
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-   sled      0      model0        serial0         7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670   1.0.0              Sp { expected_active_version: ArtifactVersion("0.0.1"), expected_inactive_version: NoValidVersion }
+   sled      1      model1        serial1         7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670   1.0.0              Sp { expected_active_version: ArtifactVersion("0.0.1"), expected_inactive_version: NoValidVersion }


internal DNS:
  DNS zone: "control-plane.oxide.internal" (unchanged)
    name: 0845966e-26eb-4ad3-9785-a22491d94f92.host          (records: 1)
        AAAA fd00:1122:3344:103::25
    name: 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host          (records: 1)
        AAAA fd00:1122:3344:101::24
    name: 2b7946df-0109-4b6d-afbc-a840454056b4.host          (records: 1)
        AAAA fd00:1122:3344:1::1
    name: 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled          (records: 1)
        AAAA fd00:1122:3344:102::1
    name: 34a38622-f44c-4fd1-834d-d15bac071ca7.host          (records: 1)
        AAAA fd00:1122:3344:101::27
    name: 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host          (records: 1)
        AAAA fd00:1122:3344:102::26
    name: 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host          (records: 1)
        AAAA fd00:1122:3344:103::24
    name: 506d948a-3653-4682-990d-5ab6755a7152.host          (records: 1)
        AAAA fd00:1122:3344:103::26
    name: 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host          (records: 1)
        AAAA fd00:1122:3344:3::1
    name: 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host          (records: 1)
        AAAA fd00:1122:3344:102::23
    name: 86ea186b-aace-4835-a507-8f146379051a.host          (records: 1)
        AAAA fd00:1122:3344:102::24
    name: 87c334bd-e097-48c8-b292-fea51783e7de.host          (records: 1)
        AAAA fd00:1122:3344:102::22
    name: 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host          (records: 1)
        AAAA fd00:1122:3344:101::21
    name: 8c678407-1c39-44c1-bb35-fe21d505e085.host          (records: 1)
        AAAA fd00:1122:3344:101::26
    name: 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host          (records: 1)
        AAAA fd00:1122:3344:2::1
    name: 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host          (records: 1)
        AAAA fd00:1122:3344:102::28
    name: 955bb10b-1917-4a3e-a1b9-48756797ab4d.host          (records: 1)
        AAAA fd00:1122:3344:102::21
    name: 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled          (records: 1)
        AAAA fd00:1122:3344:101::1
    name: 9f900aca-853f-4851-9625-8195c5f73c08.host          (records: 1)
        AAAA fd00:1122:3344:101::23
    name: @                                                  (records: 3)
        NS   ns1.control-plane.oxide.internal
        NS   ns2.control-plane.oxide.internal
        NS   ns3.control-plane.oxide.internal
    name: _clickhouse-admin-single-server._tcp               (records: 1)
        SRV  port  8888 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse-native._tcp                            (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse._tcp                                   (records: 1)
        SRV  port  8123 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _crucible-pantry._tcp                              (records: 3)
        SRV  port 17000 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host.control-plane.oxide.internal
        SRV  port 17000 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host.control-plane.oxide.internal
        SRV  port 17000 bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host.control-plane.oxide.internal
    name: _crucible._tcp.0845966e-26eb-4ad3-9785-a22491d94f92 (records: 1)
        SRV  port 32345 0845966e-26eb-4ad3-9785-a22491d94f92.host.control-plane.oxide.internal
    name: _crucible._tcp.34a38622-f44c-4fd1-834d-d15bac071ca7 (records: 1)
        SRV  port 32345 34a38622-f44c-4fd1-834d-d15bac071ca7.host.control-plane.oxide.internal
    name: _crucible._tcp.42fb66d7-1425-4072-a7d5-a4ef4c3b45c4 (records: 1)
        SRV  port 32345 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host.control-plane.oxide.internal
    name: _crucible._tcp.506d948a-3653-4682-990d-5ab6755a7152 (records: 1)
        SRV  port 32345 506d948a-3653-4682-990d-5ab6755a7152.host.control-plane.oxide.internal
    name: _crucible._tcp.8c678407-1c39-44c1-bb35-fe21d505e085 (records: 1)
        SRV  port 32345 8c678407-1c39-44c1-bb35-fe21d505e085.host.control-plane.oxide.internal
    name: _crucible._tcp.8fa00fff-4d55-4b19-8241-1ca8e9c0b280 (records: 1)
        SRV  port 32345 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host.control-plane.oxide.internal
    name: _crucible._tcp.dd3b3b3b-066c-4910-9303-2d1bed652fda (records: 1)
        SRV  port 32345 dd3b3b3b-066c-4910-9303-2d1bed652fda.host.control-plane.oxide.internal
    name: _crucible._tcp.e3604609-0ce9-42ff-a7be-ddf0b09b4808 (records: 1)
        SRV  port 32345 e3604609-0ce9-42ff-a7be-ddf0b09b4808.host.control-plane.oxide.internal
    name: _crucible._tcp.f30236dd-8c41-4575-b2e6-cbac71dde8ad (records: 1)
        SRV  port 32345 f30236dd-8c41-4575-b2e6-cbac71dde8ad.host.control-plane.oxide.internal
    name: _external-dns._tcp                                 (records: 3)
        SRV  port  5353 86ea186b-aace-4835-a507-8f146379051a.host.control-plane.oxide.internal
        SRV  port  5353 9f900aca-853f-4851-9625-8195c5f73c08.host.control-plane.oxide.internal
        SRV  port  5353 edfb0c0c-6276-4926-b21c-4bc1e968242a.host.control-plane.oxide.internal
    name: _internal-ntp._tcp                                 (records: 3)
        SRV  port   123 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host.control-plane.oxide.internal
        SRV  port   123 955bb10b-1917-4a3e-a1b9-48756797ab4d.host.control-plane.oxide.internal
        SRV  port   123 bb9bec6d-c610-4315-8969-c728bf39b4e1.host.control-plane.oxide.internal
    name: _nameservice._tcp                                  (records: 3)
        SRV  port  5353 2b7946df-0109-4b6d-afbc-a840454056b4.host.control-plane.oxide.internal
        SRV  port  5353 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host.control-plane.oxide.internal
        SRV  port  5353 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host.control-plane.oxide.internal
    name: _nexus._tcp                                        (records: 3)
        SRV  port 12221 87c334bd-e097-48c8-b292-fea51783e7de.host.control-plane.oxide.internal
        SRV  port 12221 f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host.control-plane.oxide.internal
        SRV  port 12221 fc1ad58e-8478-4e25-923c-8b177c04444e.host.control-plane.oxide.internal
    name: _oximeter-reader._tcp                              (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _repo-depot._tcp                                   (records: 3)
        SRV  port 12348 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled.control-plane.oxide.internal
        SRV  port 12348 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled.control-plane.oxide.internal
        SRV  port 12348 d81c6a84-79b8-4958-ae41-ea46c9b19763.sled.control-plane.oxide.internal
    name: bb9bec6d-c610-4315-8969-c728bf39b4e1.host          (records: 1)
        AAAA fd00:1122:3344:103::21
    name: bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host          (records: 1)
        AAAA fd00:1122:3344:102::25
    name: d81c6a84-79b8-4958-ae41-ea46c9b19763.sled          (records: 1)
        AAAA fd00:1122:3344:103::1
    name: dd3b3b3b-066c-4910-9303-2d1bed652fda.host          (records: 1)
        AAAA fd00:1122:3344:101::25
    name: e3604609-0ce9-42ff-a7be-ddf0b09b4808.host          (records: 1)
        AAAA fd00:1122:3344:102::27
    name: edfb0c0c-6276-4926-b21c-4bc1e968242a.host          (records: 1)
        AAAA fd00:1122:3344:103::23
    name: f30236dd-8c41-4575-b2e6-cbac71dde8ad.host          (records: 1)
        AAAA fd00:1122:3344:103::27
    name: f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host          (records: 1)
        AAAA fd00:1122:3344:103::22
    name: fc1ad58e-8478-4e25-923c-8b177c04444e.host          (records: 1)
        AAAA fd00:1122:3344:101::22
    name: ns1                                                (records: 1)
        AAAA fd00:1122:3344:1::1
    name: ns2                                                (records: 1)
        AAAA fd00:1122:3344:2::1
    name: ns3                                                (records: 1)
        AAAA fd00:1122:3344:3::1

external DNS:
  DNS zone: "oxide.example" (unchanged)
    name: @                                                  (records: 3)
        NS   ns1.oxide.example
        NS   ns2.oxide.example
        NS   ns3.oxide.example
    name: example-silo.sys                                   (records: 3)
        A    192.0.2.2
        A    192.0.2.3
        A    192.0.2.4
    name: ns1                                                (records: 1)
        A    198.51.100.1
    name: ns2                                                (records: 1)
        A    198.51.100.2
    name: ns3                                                (records: 1)
        A    198.51.100.3




> # This time, make it more interesting.  Change the inactive slot contents of
> # the simulated SP.  This should make the configured update impossible and cause
> # the planner to fix it.
> sled-update-sp 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c --inactive 0.5.0
set sled 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c SP versions: inactive -> 0.5.0

> inventory-generate
generated inventory collection 61f451b3-2121-4ed6-91c7-a550054f6c21 from configured sleds

> blueprint-plan af934083-59b5-4bf6-8966-6fb5292c29e1 61f451b3-2121-4ed6-91c7-a550054f6c21
INFO sufficient BoundaryNtp zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient Clickhouse zones exist in plan, desired_count: 1, current_count: 1
INFO sufficient ClickhouseKeeper zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient ClickhouseServer zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CockroachDb zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CruciblePantry zones exist in plan, desired_count: 0, current_count: 3
INFO sufficient InternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient ExternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Nexus zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Oximeter zones exist in plan, desired_count: 0, current_count: 0
INFO SP update impossible (will remove it and re-evaluate board), artifact_version: 1.0.0, artifact_hash: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670, expected_inactive_version: NoValidVersion, expected_active_version: 0.0.1, component: sp, sp_slot: 1, sp_type: Sled, serial_number: serial1, part_number: model1
INFO configuring SP update, artifact_version: 1.0.0, artifact_hash: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670, expected_inactive_version: Version(ArtifactVersion("0.5.0")), expected_active_version: 0.0.1, component: sp, sp_slot: 1, sp_type: Sled, serial_number: serial1, part_number: model1
INFO reached maximum number of pending SP updates, max: 1
INFO will ensure cockroachdb setting, setting: cluster.preserve_downgrade_option, value: DoNotModify
generated blueprint df06bb57-ad42-4431-9206-abff322896c7 based on parent blueprint af934083-59b5-4bf6-8966-6fb5292c29e1

> blueprint-diff af934083-59b5-4bf6-8966-6fb5292c29e1 df06bb57-ad42-4431-9206-abff322896c7
from: blueprint af934083-59b5-4bf6-8966-6fb5292c29e1
to:   blueprint df06bb57-ad42-4431-9206-abff322896c7

 COCKROACHDB SETTINGS:
    state fingerprint:::::::::::::::::   (none) (unchanged)
    cluster.preserve_downgrade_option:   (do not modify) (unchanged)

 METADATA:
    internal DNS version:::   1 (unchanged)
    external DNS version:::   1 (unchanged)
    target release min gen:   1 (unchanged)

 OXIMETER SETTINGS:
    generation:   1 (unchanged)
    read from::   SingleNode (unchanged)

 PENDING MGS UPDATES:

    Pending MGS-managed updates (all baseboards):
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    sp_type   slot   part_number   serial_number   artifact_hash                                                      artifact_version   details                                                                                                                 
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
*   sled      1      model1        serial1         7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670   1.0.0              - Sp { expected_active_version: ArtifactVersion("0.0.1"), expected_inactive_version: NoValidVersion }                   
                                                                                                                                       + Sp { expected_active_version: ArtifactVersion("0.0.1"), expected_inactive_version: Version(ArtifactVersion("0.5.0")) }


internal DNS:
  DNS zone: "control-plane.oxide.internal" (unchanged)
    name: 0845966e-26eb-4ad3-9785-a22491d94f92.host          (records: 1)
        AAAA fd00:1122:3344:103::25
    name: 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host          (records: 1)
        AAAA fd00:1122:3344:101::24
    name: 2b7946df-0109-4b6d-afbc-a840454056b4.host          (records: 1)
        AAAA fd00:1122:3344:1::1
    name: 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled          (records: 1)
        AAAA fd00:1122:3344:102::1
    name: 34a38622-f44c-4fd1-834d-d15bac071ca7.host          (records: 1)
        AAAA fd00:1122:3344:101::27
    name: 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host          (records: 1)
        AAAA fd00:1122:3344:102::26
    name: 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host          (records: 1)
        AAAA fd00:1122:3344:103::24
    name: 506d948a-3653-4682-990d-5ab6755a7152.host          (records: 1)
        AAAA fd00:1122:3344:103::26
    name: 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host          (records: 1)
        AAAA fd00:1122:3344:3::1
    name: 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host          (records: 1)
        AAAA fd00:1122:3344:102::23
    name: 86ea186b-aace-4835-a507-8f146379051a.host          (records: 1)
        AAAA fd00:1122:3344:102::24
    name: 87c334bd-e097-48c8-b292-fea51783e7de.host          (records: 1)
        AAAA fd00:1122:3344:102::22
    name: 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host          (records: 1)
        AAAA fd00:1122:3344:101::21
    name: 8c678407-1c39-44c1-bb35-fe21d505e085.host          (records: 1)
        AAAA fd00:1122:3344:101::26
    name: 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host          (records: 1)
        AAAA fd00:1122:3344:2::1
    name: 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host          (records: 1)
        AAAA fd00:1122:3344:102::28
    name: 955bb10b-1917-4a3e-a1b9-48756797ab4d.host          (records: 1)
        AAAA fd00:1122:3344:102::21
    name: 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled          (records: 1)
        AAAA fd00:1122:3344:101::1
    name: 9f900aca-853f-4851-9625-8195c5f73c08.host          (records: 1)
        AAAA fd00:1122:3344:101::23
    name: @                                                  (records: 3)
        NS   ns1.control-plane.oxide.internal
        NS   ns2.control-plane.oxide.internal
        NS   ns3.control-plane.oxide.internal
    name: _clickhouse-admin-single-server._tcp               (records: 1)
        SRV  port  8888 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse-native._tcp                            (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse._tcp                                   (records: 1)
        SRV  port  8123 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _crucible-pantry._tcp                              (records: 3)
        SRV  port 17000 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host.control-plane.oxide.internal
        SRV  port 17000 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host.control-plane.oxide.internal
        SRV  port 17000 bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host.control-plane.oxide.internal
    name: _crucible._tcp.0845966e-26eb-4ad3-9785-a22491d94f92 (records: 1)
        SRV  port 32345 0845966e-26eb-4ad3-9785-a22491d94f92.host.control-plane.oxide.internal
    name: _crucible._tcp.34a38622-f44c-4fd1-834d-d15bac071ca7 (records: 1)
        SRV  port 32345 34a38622-f44c-4fd1-834d-d15bac071ca7.host.control-plane.oxide.internal
    name: _crucible._tcp.42fb66d7-1425-4072-a7d5-a4ef4c3b45c4 (records: 1)
        SRV  port 32345 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host.control-plane.oxide.internal
    name: _crucible._tcp.506d948a-3653-4682-990d-5ab6755a7152 (records: 1)
        SRV  port 32345 506d948a-3653-4682-990d-5ab6755a7152.host.control-plane.oxide.internal
    name: _crucible._tcp.8c678407-1c39-44c1-bb35-fe21d505e085 (records: 1)
        SRV  port 32345 8c678407-1c39-44c1-bb35-fe21d505e085.host.control-plane.oxide.internal
    name: _crucible._tcp.8fa00fff-4d55-4b19-8241-1ca8e9c0b280 (records: 1)
        SRV  port 32345 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host.control-plane.oxide.internal
    name: _crucible._tcp.dd3b3b3b-066c-4910-9303-2d1bed652fda (records: 1)
        SRV  port 32345 dd3b3b3b-066c-4910-9303-2d1bed652fda.host.control-plane.oxide.internal
    name: _crucible._tcp.e3604609-0ce9-42ff-a7be-ddf0b09b4808 (records: 1)
        SRV  port 32345 e3604609-0ce9-42ff-a7be-ddf0b09b4808.host.control-plane.oxide.internal
    name: _crucible._tcp.f30236dd-8c41-4575-b2e6-cbac71dde8ad (records: 1)
        SRV  port 32345 f30236dd-8c41-4575-b2e6-cbac71dde8ad.host.control-plane.oxide.internal
    name: _external-dns._tcp                                 (records: 3)
        SRV  port  5353 86ea186b-aace-4835-a507-8f146379051a.host.control-plane.oxide.internal
        SRV  port  5353 9f900aca-853f-4851-9625-8195c5f73c08.host.control-plane.oxide.internal
        SRV  port  5353 edfb0c0c-6276-4926-b21c-4bc1e968242a.host.control-plane.oxide.internal
    name: _internal-ntp._tcp                                 (records: 3)
        SRV  port   123 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host.control-plane.oxide.internal
        SRV  port   123 955bb10b-1917-4a3e-a1b9-48756797ab4d.host.control-plane.oxide.internal
        SRV  port   123 bb9bec6d-c610-4315-8969-c728bf39b4e1.host.control-plane.oxide.internal
    name: _nameservice._tcp                                  (records: 3)
        SRV  port  5353 2b7946df-0109-4b6d-afbc-a840454056b4.host.control-plane.oxide.internal
        SRV  port  5353 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host.control-plane.oxide.internal
        SRV  port  5353 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host.control-plane.oxide.internal
    name: _nexus._tcp                                        (records: 3)
        SRV  port 12221 87c334bd-e097-48c8-b292-fea51783e7de.host.control-plane.oxide.internal
        SRV  port 12221 f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host.control-plane.oxide.internal
        SRV  port 12221 fc1ad58e-8478-4e25-923c-8b177c04444e.host.control-plane.oxide.internal
    name: _oximeter-reader._tcp                              (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _repo-depot._tcp                                   (records: 3)
        SRV  port 12348 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled.control-plane.oxide.internal
        SRV  port 12348 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled.control-plane.oxide.internal
        SRV  port 12348 d81c6a84-79b8-4958-ae41-ea46c9b19763.sled.control-plane.oxide.internal
    name: bb9bec6d-c610-4315-8969-c728bf39b4e1.host          (records: 1)
        AAAA fd00:1122:3344:103::21
    name: bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host          (records: 1)
        AAAA fd00:1122:3344:102::25
    name: d81c6a84-79b8-4958-ae41-ea46c9b19763.sled          (records: 1)
        AAAA fd00:1122:3344:103::1
    name: dd3b3b3b-066c-4910-9303-2d1bed652fda.host          (records: 1)
        AAAA fd00:1122:3344:101::25
    name: e3604609-0ce9-42ff-a7be-ddf0b09b4808.host          (records: 1)
        AAAA fd00:1122:3344:102::27
    name: edfb0c0c-6276-4926-b21c-4bc1e968242a.host          (records: 1)
        AAAA fd00:1122:3344:103::23
    name: f30236dd-8c41-4575-b2e6-cbac71dde8ad.host          (records: 1)
        AAAA fd00:1122:3344:103::27
    name: f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host          (records: 1)
        AAAA fd00:1122:3344:103::22
    name: fc1ad58e-8478-4e25-923c-8b177c04444e.host          (records: 1)
        AAAA fd00:1122:3344:101::22
    name: ns1                                                (records: 1)
        AAAA fd00:1122:3344:1::1
    name: ns2                                                (records: 1)
        AAAA fd00:1122:3344:2::1
    name: ns3                                                (records: 1)
        AAAA fd00:1122:3344:3::1

external DNS:
  DNS zone: "oxide.example" (unchanged)
    name: @                                                  (records: 3)
        NS   ns1.oxide.example
        NS   ns2.oxide.example
        NS   ns3.oxide.example
    name: example-silo.sys                                   (records: 3)
        A    192.0.2.2
        A    192.0.2.3
        A    192.0.2.4
    name: ns1                                                (records: 1)
        A    198.51.100.1
    name: ns2                                                (records: 1)
        A    198.51.100.2
    name: ns3                                                (records: 1)
        A    198.51.100.3




> # Now simulate the update completing successfully.
> # Another planning step should try to update the last sled.
> sled-update-sp 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c --active 1.0.0
set sled 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c SP versions: active -> 1.0.0

> inventory-generate
generated inventory collection b1bda47d-2c19-4fba-96e3-d9df28db7436 from configured sleds

> blueprint-plan df06bb57-ad42-4431-9206-abff322896c7 b1bda47d-2c19-4fba-96e3-d9df28db7436
INFO sufficient BoundaryNtp zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient Clickhouse zones exist in plan, desired_count: 1, current_count: 1
INFO sufficient ClickhouseKeeper zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient ClickhouseServer zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CockroachDb zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CruciblePantry zones exist in plan, desired_count: 0, current_count: 3
INFO sufficient InternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient ExternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Nexus zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Oximeter zones exist in plan, desired_count: 0, current_count: 0
INFO SP update completed (will remove it and re-evaluate board), artifact_version: 1.0.0, artifact_hash: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670, expected_inactive_version: Version(ArtifactVersion("0.5.0")), expected_active_version: 0.0.1, component: sp, sp_slot: 1, sp_type: Sled, serial_number: serial1, part_number: model1
INFO skipping board for SP update, serial_number: serial1, part_number: model1
INFO skipping board for SP update, serial_number: serial0, part_number: model0
INFO configuring SP update, artifact_version: 1.0.0, artifact_hash: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670, expected_inactive_version: NoValidVersion, expected_active_version: 0.0.1, component: sp, sp_slot: 2, sp_type: Sled, serial_number: serial2, part_number: model2
INFO ran out of boards for SP update
INFO will ensure cockroachdb setting, setting: cluster.preserve_downgrade_option, value: DoNotModify
generated blueprint 7f976e0d-d2a5-4eeb-9e82-c82bc2824aba based on parent blueprint df06bb57-ad42-4431-9206-abff322896c7

> blueprint-diff df06bb57-ad42-4431-9206-abff322896c7 7f976e0d-d2a5-4eeb-9e82-c82bc2824aba
from: blueprint df06bb57-ad42-4431-9206-abff322896c7
to:   blueprint 7f976e0d-d2a5-4eeb-9e82-c82bc2824aba

 COCKROACHDB SETTINGS:
    state fingerprint:::::::::::::::::   (none) (unchanged)
    cluster.preserve_downgrade_option:   (do not modify) (unchanged)

 METADATA:
    internal DNS version:::   1 (unchanged)
    external DNS version:::   1 (unchanged)
    target release min gen:   1 (unchanged)

 OXIMETER SETTINGS:
    generation:   1 (unchanged)
    read from::   SingleNode (unchanged)

 PENDING MGS UPDATES:

    Pending MGS-managed updates (all baseboards):
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    sp_type   slot   part_number   serial_number   artifact_hash                                                      artifact_version   details                                                                                                               
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-   sled      1      model1        serial1         7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670   1.0.0              Sp { expected_active_version: ArtifactVersion("0.0.1"), expected_inactive_version: Version(ArtifactVersion("0.5.0")) }
+   sled      2      model2        serial2         7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670   1.0.0              Sp { expected_active_version: ArtifactVersion("0.0.1"), expected_inactive_version: NoValidVersion }                   


internal DNS:
  DNS zone: "control-plane.oxide.internal" (unchanged)
    name: 0845966e-26eb-4ad3-9785-a22491d94f92.host          (records: 1)
        AAAA fd00:1122:3344:103::25
    name: 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host          (records: 1)
        AAAA fd00:1122:3344:101::24
    name: 2b7946df-0109-4b6d-afbc-a840454056b4.host          (records: 1)
        AAAA fd00:1122:3344:1::1
    name: 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled          (records: 1)
        AAAA fd00:1122:3344:102::1
    name: 34a38622-f44c-4fd1-834d-d15bac071ca7.host          (records: 1)
        AAAA fd00:1122:3344:101::27
    name: 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host          (records: 1)
        AAAA fd00:1122:3344:102::26
    name: 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host          (records: 1)
        AAAA fd00:1122:3344:103::24
    name: 506d948a-3653-4682-990d-5ab6755a7152.host          (records: 1)
        AAAA fd00:1122:3344:103::26
    name: 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host          (records: 1)
        AAAA fd00:1122:3344:3::1
    name: 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host          (records: 1)
        AAAA fd00:1122:3344:102::23
    name: 86ea186b-aace-4835-a507-8f146379051a.host          (records: 1)
        AAAA fd00:1122:3344:102::24
    name: 87c334bd-e097-48c8-b292-fea51783e7de.host          (records: 1)
        AAAA fd00:1122:3344:102::22
    name: 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host          (records: 1)
        AAAA fd00:1122:3344:101::21
    name: 8c678407-1c39-44c1-bb35-fe21d505e085.host          (records: 1)
        AAAA fd00:1122:3344:101::26
    name: 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host          (records: 1)
        AAAA fd00:1122:3344:2::1
    name: 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host          (records: 1)
        AAAA fd00:1122:3344:102::28
    name: 955bb10b-1917-4a3e-a1b9-48756797ab4d.host          (records: 1)
        AAAA fd00:1122:3344:102::21
    name: 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled          (records: 1)
        AAAA fd00:1122:3344:101::1
    name: 9f900aca-853f-4851-9625-8195c5f73c08.host          (records: 1)
        AAAA fd00:1122:3344:101::23
    name: @                                                  (records: 3)
        NS   ns1.control-plane.oxide.internal
        NS   ns2.control-plane.oxide.internal
        NS   ns3.control-plane.oxide.internal
    name: _clickhouse-admin-single-server._tcp               (records: 1)
        SRV  port  8888 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse-native._tcp                            (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse._tcp                                   (records: 1)
        SRV  port  8123 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _crucible-pantry._tcp                              (records: 3)
        SRV  port 17000 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host.control-plane.oxide.internal
        SRV  port 17000 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host.control-plane.oxide.internal
        SRV  port 17000 bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host.control-plane.oxide.internal
    name: _crucible._tcp.0845966e-26eb-4ad3-9785-a22491d94f92 (records: 1)
        SRV  port 32345 0845966e-26eb-4ad3-9785-a22491d94f92.host.control-plane.oxide.internal
    name: _crucible._tcp.34a38622-f44c-4fd1-834d-d15bac071ca7 (records: 1)
        SRV  port 32345 34a38622-f44c-4fd1-834d-d15bac071ca7.host.control-plane.oxide.internal
    name: _crucible._tcp.42fb66d7-1425-4072-a7d5-a4ef4c3b45c4 (records: 1)
        SRV  port 32345 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host.control-plane.oxide.internal
    name: _crucible._tcp.506d948a-3653-4682-990d-5ab6755a7152 (records: 1)
        SRV  port 32345 506d948a-3653-4682-990d-5ab6755a7152.host.control-plane.oxide.internal
    name: _crucible._tcp.8c678407-1c39-44c1-bb35-fe21d505e085 (records: 1)
        SRV  port 32345 8c678407-1c39-44c1-bb35-fe21d505e085.host.control-plane.oxide.internal
    name: _crucible._tcp.8fa00fff-4d55-4b19-8241-1ca8e9c0b280 (records: 1)
        SRV  port 32345 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host.control-plane.oxide.internal
    name: _crucible._tcp.dd3b3b3b-066c-4910-9303-2d1bed652fda (records: 1)
        SRV  port 32345 dd3b3b3b-066c-4910-9303-2d1bed652fda.host.control-plane.oxide.internal
    name: _crucible._tcp.e3604609-0ce9-42ff-a7be-ddf0b09b4808 (records: 1)
        SRV  port 32345 e3604609-0ce9-42ff-a7be-ddf0b09b4808.host.control-plane.oxide.internal
    name: _crucible._tcp.f30236dd-8c41-4575-b2e6-cbac71dde8ad (records: 1)
        SRV  port 32345 f30236dd-8c41-4575-b2e6-cbac71dde8ad.host.control-plane.oxide.internal
    name: _external-dns._tcp                                 (records: 3)
        SRV  port  5353 86ea186b-aace-4835-a507-8f146379051a.host.control-plane.oxide.internal
        SRV  port  5353 9f900aca-853f-4851-9625-8195c5f73c08.host.control-plane.oxide.internal
        SRV  port  5353 edfb0c0c-6276-4926-b21c-4bc1e968242a.host.control-plane.oxide.internal
    name: _internal-ntp._tcp                                 (records: 3)
        SRV  port   123 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host.control-plane.oxide.internal
        SRV  port   123 955bb10b-1917-4a3e-a1b9-48756797ab4d.host.control-plane.oxide.internal
        SRV  port   123 bb9bec6d-c610-4315-8969-c728bf39b4e1.host.control-plane.oxide.internal
    name: _nameservice._tcp                                  (records: 3)
        SRV  port  5353 2b7946df-0109-4b6d-afbc-a840454056b4.host.control-plane.oxide.internal
        SRV  port  5353 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host.control-plane.oxide.internal
        SRV  port  5353 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host.control-plane.oxide.internal
    name: _nexus._tcp                                        (records: 3)
        SRV  port 12221 87c334bd-e097-48c8-b292-fea51783e7de.host.control-plane.oxide.internal
        SRV  port 12221 f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host.control-plane.oxide.internal
        SRV  port 12221 fc1ad58e-8478-4e25-923c-8b177c04444e.host.control-plane.oxide.internal
    name: _oximeter-reader._tcp                              (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _repo-depot._tcp                                   (records: 3)
        SRV  port 12348 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled.control-plane.oxide.internal
        SRV  port 12348 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled.control-plane.oxide.internal
        SRV  port 12348 d81c6a84-79b8-4958-ae41-ea46c9b19763.sled.control-plane.oxide.internal
    name: bb9bec6d-c610-4315-8969-c728bf39b4e1.host          (records: 1)
        AAAA fd00:1122:3344:103::21
    name: bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host          (records: 1)
        AAAA fd00:1122:3344:102::25
    name: d81c6a84-79b8-4958-ae41-ea46c9b19763.sled          (records: 1)
        AAAA fd00:1122:3344:103::1
    name: dd3b3b3b-066c-4910-9303-2d1bed652fda.host          (records: 1)
        AAAA fd00:1122:3344:101::25
    name: e3604609-0ce9-42ff-a7be-ddf0b09b4808.host          (records: 1)
        AAAA fd00:1122:3344:102::27
    name: edfb0c0c-6276-4926-b21c-4bc1e968242a.host          (records: 1)
        AAAA fd00:1122:3344:103::23
    name: f30236dd-8c41-4575-b2e6-cbac71dde8ad.host          (records: 1)
        AAAA fd00:1122:3344:103::27
    name: f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host          (records: 1)
        AAAA fd00:1122:3344:103::22
    name: fc1ad58e-8478-4e25-923c-8b177c04444e.host          (records: 1)
        AAAA fd00:1122:3344:101::22
    name: ns1                                                (records: 1)
        AAAA fd00:1122:3344:1::1
    name: ns2                                                (records: 1)
        AAAA fd00:1122:3344:2::1
    name: ns3                                                (records: 1)
        AAAA fd00:1122:3344:3::1

external DNS:
  DNS zone: "oxide.example" (unchanged)
    name: @                                                  (records: 3)
        NS   ns1.oxide.example
        NS   ns2.oxide.example
        NS   ns3.oxide.example
    name: example-silo.sys                                   (records: 3)
        A    192.0.2.2
        A    192.0.2.3
        A    192.0.2.4
    name: ns1                                                (records: 1)
        A    198.51.100.1
    name: ns2                                                (records: 1)
        A    198.51.100.2
    name: ns3                                                (records: 1)
        A    198.51.100.3




> # Finish updating the last sled and do one more planning run.
> # There should be nothing left to do.
> sled-update-sp d81c6a84-79b8-4958-ae41-ea46c9b19763 --active 1.0.0
set sled d81c6a84-79b8-4958-ae41-ea46c9b19763 SP versions: active -> 1.0.0

> inventory-generate
generated inventory collection a71f7a73-35a6-45e8-acbe-f1c5925eed69 from configured sleds

> blueprint-plan 7f976e0d-d2a5-4eeb-9e82-c82bc2824aba a71f7a73-35a6-45e8-acbe-f1c5925eed69
INFO sufficient BoundaryNtp zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient Clickhouse zones exist in plan, desired_count: 1, current_count: 1
INFO sufficient ClickhouseKeeper zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient ClickhouseServer zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CockroachDb zones exist in plan, desired_count: 0, current_count: 0
INFO sufficient CruciblePantry zones exist in plan, desired_count: 0, current_count: 3
INFO sufficient InternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient ExternalDns zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Nexus zones exist in plan, desired_count: 3, current_count: 3
INFO sufficient Oximeter zones exist in plan, desired_count: 0, current_count: 0
INFO SP update completed (will remove it and re-evaluate board), artifact_version: 1.0.0, artifact_hash: 7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670, expected_inactive_version: NoValidVersion, expected_active_version: 0.0.1, component: sp, sp_slot: 2, sp_type: Sled, serial_number: serial2, part_number: model2
INFO skipping board for SP update, serial_number: serial2, part_number: model2
INFO skipping board for SP update, serial_number: serial0, part_number: model0
INFO skipping board for SP update, serial_number: serial1, part_number: model1
INFO ran out of boards for SP update
INFO all zones up-to-date
INFO will ensure cockroachdb setting, setting: cluster.preserve_downgrade_option, value: DoNotModify
generated blueprint 9034c710-3e57-45f3-99e5-4316145e87ac based on parent blueprint 7f976e0d-d2a5-4eeb-9e82-c82bc2824aba

> blueprint-diff 7f976e0d-d2a5-4eeb-9e82-c82bc2824aba 9034c710-3e57-45f3-99e5-4316145e87ac
from: blueprint 7f976e0d-d2a5-4eeb-9e82-c82bc2824aba
to:   blueprint 9034c710-3e57-45f3-99e5-4316145e87ac

 COCKROACHDB SETTINGS:
    state fingerprint:::::::::::::::::   (none) (unchanged)
    cluster.preserve_downgrade_option:   (do not modify) (unchanged)

 METADATA:
    internal DNS version:::   1 (unchanged)
    external DNS version:::   1 (unchanged)
    target release min gen:   1 (unchanged)

 OXIMETER SETTINGS:
    generation:   1 (unchanged)
    read from::   SingleNode (unchanged)

 PENDING MGS UPDATES:

    Pending MGS-managed updates (all baseboards):
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    sp_type   slot   part_number   serial_number   artifact_hash                                                      artifact_version   details                                                                                            
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-   sled      2      model2        serial2         7e6667e646ad001b54c8365a3d309c03f89c59102723d38d01697ee8079fe670   1.0.0              Sp { expected_active_version: ArtifactVersion("0.0.1"), expected_inactive_version: NoValidVersion }


internal DNS:
  DNS zone: "control-plane.oxide.internal" (unchanged)
    name: 0845966e-26eb-4ad3-9785-a22491d94f92.host          (records: 1)
        AAAA fd00:1122:3344:103::25
    name: 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host          (records: 1)
        AAAA fd00:1122:3344:101::24
    name: 2b7946df-0109-4b6d-afbc-a840454056b4.host          (records: 1)
        AAAA fd00:1122:3344:1::1
    name: 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled          (records: 1)
        AAAA fd00:1122:3344:102::1
    name: 34a38622-f44c-4fd1-834d-d15bac071ca7.host          (records: 1)
        AAAA fd00:1122:3344:101::27
    name: 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host          (records: 1)
        AAAA fd00:1122:3344:102::26
    name: 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host          (records: 1)
        AAAA fd00:1122:3344:103::24
    name: 506d948a-3653-4682-990d-5ab6755a7152.host          (records: 1)
        AAAA fd00:1122:3344:103::26
    name: 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host          (records: 1)
        AAAA fd00:1122:3344:3::1
    name: 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host          (records: 1)
        AAAA fd00:1122:3344:102::23
    name: 86ea186b-aace-4835-a507-8f146379051a.host          (records: 1)
        AAAA fd00:1122:3344:102::24
    name: 87c334bd-e097-48c8-b292-fea51783e7de.host          (records: 1)
        AAAA fd00:1122:3344:102::22
    name: 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host          (records: 1)
        AAAA fd00:1122:3344:101::21
    name: 8c678407-1c39-44c1-bb35-fe21d505e085.host          (records: 1)
        AAAA fd00:1122:3344:101::26
    name: 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host          (records: 1)
        AAAA fd00:1122:3344:2::1
    name: 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host          (records: 1)
        AAAA fd00:1122:3344:102::28
    name: 955bb10b-1917-4a3e-a1b9-48756797ab4d.host          (records: 1)
        AAAA fd00:1122:3344:102::21
    name: 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled          (records: 1)
        AAAA fd00:1122:3344:101::1
    name: 9f900aca-853f-4851-9625-8195c5f73c08.host          (records: 1)
        AAAA fd00:1122:3344:101::23
    name: @                                                  (records: 3)
        NS   ns1.control-plane.oxide.internal
        NS   ns2.control-plane.oxide.internal
        NS   ns3.control-plane.oxide.internal
    name: _clickhouse-admin-single-server._tcp               (records: 1)
        SRV  port  8888 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse-native._tcp                            (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _clickhouse._tcp                                   (records: 1)
        SRV  port  8123 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _crucible-pantry._tcp                              (records: 3)
        SRV  port 17000 2aa51b37-214a-4ad4-8e06-2024d8b06d64.host.control-plane.oxide.internal
        SRV  port 17000 49eb95a1-7dcb-46aa-a2e4-1c48bad3ab94.host.control-plane.oxide.internal
        SRV  port 17000 bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host.control-plane.oxide.internal
    name: _crucible._tcp.0845966e-26eb-4ad3-9785-a22491d94f92 (records: 1)
        SRV  port 32345 0845966e-26eb-4ad3-9785-a22491d94f92.host.control-plane.oxide.internal
    name: _crucible._tcp.34a38622-f44c-4fd1-834d-d15bac071ca7 (records: 1)
        SRV  port 32345 34a38622-f44c-4fd1-834d-d15bac071ca7.host.control-plane.oxide.internal
    name: _crucible._tcp.42fb66d7-1425-4072-a7d5-a4ef4c3b45c4 (records: 1)
        SRV  port 32345 42fb66d7-1425-4072-a7d5-a4ef4c3b45c4.host.control-plane.oxide.internal
    name: _crucible._tcp.506d948a-3653-4682-990d-5ab6755a7152 (records: 1)
        SRV  port 32345 506d948a-3653-4682-990d-5ab6755a7152.host.control-plane.oxide.internal
    name: _crucible._tcp.8c678407-1c39-44c1-bb35-fe21d505e085 (records: 1)
        SRV  port 32345 8c678407-1c39-44c1-bb35-fe21d505e085.host.control-plane.oxide.internal
    name: _crucible._tcp.8fa00fff-4d55-4b19-8241-1ca8e9c0b280 (records: 1)
        SRV  port 32345 8fa00fff-4d55-4b19-8241-1ca8e9c0b280.host.control-plane.oxide.internal
    name: _crucible._tcp.dd3b3b3b-066c-4910-9303-2d1bed652fda (records: 1)
        SRV  port 32345 dd3b3b3b-066c-4910-9303-2d1bed652fda.host.control-plane.oxide.internal
    name: _crucible._tcp.e3604609-0ce9-42ff-a7be-ddf0b09b4808 (records: 1)
        SRV  port 32345 e3604609-0ce9-42ff-a7be-ddf0b09b4808.host.control-plane.oxide.internal
    name: _crucible._tcp.f30236dd-8c41-4575-b2e6-cbac71dde8ad (records: 1)
        SRV  port 32345 f30236dd-8c41-4575-b2e6-cbac71dde8ad.host.control-plane.oxide.internal
    name: _external-dns._tcp                                 (records: 3)
        SRV  port  5353 86ea186b-aace-4835-a507-8f146379051a.host.control-plane.oxide.internal
        SRV  port  5353 9f900aca-853f-4851-9625-8195c5f73c08.host.control-plane.oxide.internal
        SRV  port  5353 edfb0c0c-6276-4926-b21c-4bc1e968242a.host.control-plane.oxide.internal
    name: _internal-ntp._tcp                                 (records: 3)
        SRV  port   123 8a5a68ae-fcf9-42d5-b3cd-b79ef86cc763.host.control-plane.oxide.internal
        SRV  port   123 955bb10b-1917-4a3e-a1b9-48756797ab4d.host.control-plane.oxide.internal
        SRV  port   123 bb9bec6d-c610-4315-8969-c728bf39b4e1.host.control-plane.oxide.internal
    name: _nameservice._tcp                                  (records: 3)
        SRV  port  5353 2b7946df-0109-4b6d-afbc-a840454056b4.host.control-plane.oxide.internal
        SRV  port  5353 5a526763-1d2b-42a5-b2ef-42f58aa8cbfa.host.control-plane.oxide.internal
        SRV  port  5353 8d5d833f-ae30-49cc-a21f-4764a8cf5f05.host.control-plane.oxide.internal
    name: _nexus._tcp                                        (records: 3)
        SRV  port 12221 87c334bd-e097-48c8-b292-fea51783e7de.host.control-plane.oxide.internal
        SRV  port 12221 f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host.control-plane.oxide.internal
        SRV  port 12221 fc1ad58e-8478-4e25-923c-8b177c04444e.host.control-plane.oxide.internal
    name: _oximeter-reader._tcp                              (records: 1)
        SRV  port  9000 6cdf4eed-0fe5-4c9b-b54b-497dae7358e3.host.control-plane.oxide.internal
    name: _repo-depot._tcp                                   (records: 3)
        SRV  port 12348 2b8f0cb3-0295-4b3c-bc58-4fe88b57112c.sled.control-plane.oxide.internal
        SRV  port 12348 98e6b7c2-2efa-41ca-b20a-0a4d61102fe6.sled.control-plane.oxide.internal
        SRV  port 12348 d81c6a84-79b8-4958-ae41-ea46c9b19763.sled.control-plane.oxide.internal
    name: bb9bec6d-c610-4315-8969-c728bf39b4e1.host          (records: 1)
        AAAA fd00:1122:3344:103::21
    name: bdcc0e77-f8dc-446f-bb39-adfd19cb4cce.host          (records: 1)
        AAAA fd00:1122:3344:102::25
    name: d81c6a84-79b8-4958-ae41-ea46c9b19763.sled          (records: 1)
        AAAA fd00:1122:3344:103::1
    name: dd3b3b3b-066c-4910-9303-2d1bed652fda.host          (records: 1)
        AAAA fd00:1122:3344:101::25
    name: e3604609-0ce9-42ff-a7be-ddf0b09b4808.host          (records: 1)
        AAAA fd00:1122:3344:102::27
    name: edfb0c0c-6276-4926-b21c-4bc1e968242a.host          (records: 1)
        AAAA fd00:1122:3344:103::23
    name: f30236dd-8c41-4575-b2e6-cbac71dde8ad.host          (records: 1)
        AAAA fd00:1122:3344:103::27
    name: f39f961f-d05f-40cf-b3e4-b8e6bc8d662d.host          (records: 1)
        AAAA fd00:1122:3344:103::22
    name: fc1ad58e-8478-4e25-923c-8b177c04444e.host          (records: 1)
        AAAA fd00:1122:3344:101::22
    name: ns1                                                (records: 1)
        AAAA fd00:1122:3344:1::1
    name: ns2                                                (records: 1)
        AAAA fd00:1122:3344:2::1
    name: ns3                                                (records: 1)
        AAAA fd00:1122:3344:3::1

external DNS:
  DNS zone: "oxide.example" (unchanged)
    name: @                                                  (records: 3)
        NS   ns1.oxide.example
        NS   ns2.oxide.example
        NS   ns3.oxide.example
    name: example-silo.sys                                   (records: 3)
        A    192.0.2.2
        A    192.0.2.3
        A    192.0.2.4
    name: ns1                                                (records: 1)
        A    198.51.100.1
    name: ns2                                                (records: 1)
        A    198.51.100.2
    name: ns3                                                (records: 1)
        A    198.51.100.3



