using provided RNG seed: reconfigurator-cli-test
> # Load example system
> # This is a legacy test; new tests shouldn't need to set a seed

> load-example --nsleds 1 --ndisks-per-sled 3 --seed test_set_zone_images
loaded example system with:
- collection: 0141c1ff-0f12-4bb6-b3c5-14fa3be0eaf3
- blueprint: 971eeb12-1830-4fa0-a699-98ea0164505c

> blueprint-show 971eeb12-1830-4fa0-a699-98ea0164505c
blueprint  971eeb12-1830-4fa0-a699-98ea0164505c
parent:    1b013011-2062-4b48-b544-a32b23bce83a

  sled: 868d5b02-7792-4fc0-b6a9-654afcae9ea0 (active, config generation 2)

    physical disks:
    ------------------------------------------------------------------------------------
    vendor        model        serial                                        disposition
    ------------------------------------------------------------------------------------
    fake-vendor   fake-model   serial-21e758d8-4405-4ea7-9eec-2336e880a29a   in service 
    fake-vendor   fake-model   serial-9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f   in service 
    fake-vendor   fake-model   serial-f7542671-95a1-4a26-ab08-d1e1de7a521d   in service 


    datasets:
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    dataset name                                                                                                   dataset id                             disposition   quota     reservation   compression
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crucible                                                              5f368e96-0893-4958-b4fb-9eea3e1d7817   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crucible                                                              03795291-adb8-44b2-91d3-26adb8037ce9   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crucible                                                              c5ccdd1d-5626-4ea9-89c1-0fec6a1c619d   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/clickhouse                                                      77864675-2d2b-4ada-882d-722adc2d5afe   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/external_dns                                                    dd63055a-0993-483b-80e0-9480ea3c4679   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/external_dns                                                    178b2158-600c-44bb-b999-327776db9d2f   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/external_dns                                                    0535aab8-3785-49ac-aefb-3f77db7acdaa   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/internal_dns                                                    b3b5a363-02b6-40ff-b5f4-0fe825f69043   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/internal_dns                                                    4b30b8c3-3eda-4142-812e-450f1d8f3087   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/internal_dns                                                    cc595533-5404-443f-b597-5bcf387bcd6c   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone                                                            b8ad8acf-67d4-478c-980c-81ee64b47198   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone                                                            c57de589-67e7-4ff5-9e6e-8d8d546bf945   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone                                                            fa85705b-8c6e-41cf-a29f-5a0d0e21a8d7   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_clickhouse_4fc6cb68-8ce9-4171-91b3-0106b8fed386        8dffe5ef-69a9-462c-971e-223f0a14e4db   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_crucible_6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8          273669bd-1728-4c01-a166-d8084b947fc6   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_crucible_b0d184c8-0b73-4b29-8add-3a51b4fd60a6          a08c40ae-3bff-418f-a685-d1f807d09542   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_crucible_f401784a-83cb-4e93-a3a3-6914b920d884          de48a162-fe38-4b61-81b5-b498e59b8283   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_crucible_pantry_026f8db9-b966-45ec-bf89-fb7b41a04cc9   ab9df991-9f77-4f25-80c3-b577624fa508   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_crucible_pantry_72d12821-646d-4296-a081-ef5fb3a0ca24   ed4f4782-b991-4bf1-b911-161b342097be   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_crucible_pantry_ae74917b-2c6a-477d-9b90-fe2c2a4247f7   1f46a83b-b222-493b-a18c-516f741ace54   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_external_dns_77de9dbd-c3d4-4445-ae59-e2f3d4c388e0      e876dcf5-61fe-4196-84b9-5db82bab9173   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_external_dns_ac0f0ca6-02dd-43c7-b029-f34b247f7392      b87f5c9e-63b3-40c1-96cb-112b12107d59   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_external_dns_f9b07b90-25a8-42ad-a9e9-e497947f4f30      95e91d74-8cc3-49d8-a0aa-6627d6afc14e   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_internal_dns_0bb572bc-f5b5-48da-9004-ba336e97bf60      5fc27773-26b7-4a01-b26e-d483a14563f1   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_internal_dns_bc221177-0711-4bde-9f3d-32d6a6873c51      7d9b20fc-3699-4dc3-adc4-db2db258ca50   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_internal_dns_fe8bca28-44ac-4968-ba32-292dede5953f      9d23a2e7-f9bd-4618-85f4-9357f598880e   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_nexus_296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5             3bcebc21-c95f-49d8-852e-a8902a6fc3f5   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_nexus_50dcee18-a857-4596-8cb7-fc9cf90b698d             bd3692c0-a3a8-41ac-ba3a-686ebfdf5418   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_nexus_805cba8f-a039-44e1-8cb0-1ff2c6b89997             fbe5adaa-0639-4ace-a096-f3bcb8615e4a   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_ntp_4211daae-e09f-4742-a62a-32080f429cb3               a2495555-34eb-42f7-9c0b-d1799f744adb   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/debug                                                           8849beb6-1b10-4236-be66-0c24a88cf763   in service    100 GiB   none          gzip-9     
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/debug                                                           a1a1c487-26c4-4c94-a0f1-c948b7e77f5b   in service    100 GiB   none          gzip-9     
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/debug                                                           d13e715c-2cc2-48fc-a5bd-23dc0035907a   in service    100 GiB   none          gzip-9     


    omicron zones:
    ---------------------------------------------------------------------------------------------------------------
    zone type         zone id                                image source      disposition   underlay IP           
    ---------------------------------------------------------------------------------------------------------------
    clickhouse        4fc6cb68-8ce9-4171-91b3-0106b8fed386   install dataset   in service    fd00:1122:3344:101::25
    crucible          6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8   install dataset   in service    fd00:1122:3344:101::2d
    crucible          b0d184c8-0b73-4b29-8add-3a51b4fd60a6   install dataset   in service    fd00:1122:3344:101::2c
    crucible          f401784a-83cb-4e93-a3a3-6914b920d884   install dataset   in service    fd00:1122:3344:101::2e
    crucible_pantry   026f8db9-b966-45ec-bf89-fb7b41a04cc9   install dataset   in service    fd00:1122:3344:101::2a
    crucible_pantry   72d12821-646d-4296-a081-ef5fb3a0ca24   install dataset   in service    fd00:1122:3344:101::29
    crucible_pantry   ae74917b-2c6a-477d-9b90-fe2c2a4247f7   install dataset   in service    fd00:1122:3344:101::2b
    external_dns      77de9dbd-c3d4-4445-ae59-e2f3d4c388e0   install dataset   in service    fd00:1122:3344:101::26
    external_dns      ac0f0ca6-02dd-43c7-b029-f34b247f7392   install dataset   in service    fd00:1122:3344:101::28
    external_dns      f9b07b90-25a8-42ad-a9e9-e497947f4f30   install dataset   in service    fd00:1122:3344:101::27
    internal_dns      0bb572bc-f5b5-48da-9004-ba336e97bf60   install dataset   in service    fd00:1122:3344:1::1   
    internal_dns      bc221177-0711-4bde-9f3d-32d6a6873c51   install dataset   in service    fd00:1122:3344:2::1   
    internal_dns      fe8bca28-44ac-4968-ba32-292dede5953f   install dataset   in service    fd00:1122:3344:3::1   
    internal_ntp      4211daae-e09f-4742-a62a-32080f429cb3   install dataset   in service    fd00:1122:3344:101::21
    nexus             296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5   install dataset   in service    fd00:1122:3344:101::24
    nexus             50dcee18-a857-4596-8cb7-fc9cf90b698d   install dataset   in service    fd00:1122:3344:101::22
    nexus             805cba8f-a039-44e1-8cb0-1ff2c6b89997   install dataset   in service    fd00:1122:3344:101::23


 COCKROACHDB SETTINGS:
    state fingerprint:::::::::::::::::   (none)
    cluster.preserve_downgrade_option:   (do not modify)

 OXIMETER SETTINGS:
    generation:   1
    read from::   SingleNode

 METADATA:
    created by:::::::::::::   test suite
    created at:::::::::::::   <REDACTED_TIMESTAMP>
    comment::::::::::::::::   (none)
    internal DNS version:::   1
    external DNS version:::   1
    target release min gen:   1

 PENDING MGS-MANAGED UPDATES: 0



> # Set a couple zones' image sources to specific artifacts.
> blueprint-edit latest set-zone-image 026f8db9-b966-45ec-bf89-fb7b41a04cc9 artifact 1.2.3 e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
blueprint 9766ca20-38d4-4380-b005-e7c43c797e7c created from latest blueprint (971eeb12-1830-4fa0-a699-98ea0164505c): set sled 868d5b02-7792-4fc0-b6a9-654afcae9ea0 zone 026f8db9-b966-45ec-bf89-fb7b41a04cc9 image source to artifact: version 1.2.3
warn: no validation is done on the requested image source

> blueprint-edit latest set-zone-image 72d12821-646d-4296-a081-ef5fb3a0ca24 artifact valid-non-semver 7b4281a6bd5946bb96b332c62afe289bef275e58b9ba031085f8827655f434b3
blueprint f714e6ea-e85a-4d7d-93c2-a018744fe176 created from latest blueprint (9766ca20-38d4-4380-b005-e7c43c797e7c): set sled 868d5b02-7792-4fc0-b6a9-654afcae9ea0 zone 72d12821-646d-4296-a081-ef5fb3a0ca24 image source to artifact: version valid-non-semver
warn: no validation is done on the requested image source


> blueprint-show f714e6ea-e85a-4d7d-93c2-a018744fe176
blueprint  f714e6ea-e85a-4d7d-93c2-a018744fe176
parent:    9766ca20-38d4-4380-b005-e7c43c797e7c

  sled: 868d5b02-7792-4fc0-b6a9-654afcae9ea0 (active, config generation 4)

    physical disks:
    ------------------------------------------------------------------------------------
    vendor        model        serial                                        disposition
    ------------------------------------------------------------------------------------
    fake-vendor   fake-model   serial-21e758d8-4405-4ea7-9eec-2336e880a29a   in service 
    fake-vendor   fake-model   serial-9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f   in service 
    fake-vendor   fake-model   serial-f7542671-95a1-4a26-ab08-d1e1de7a521d   in service 


    datasets:
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    dataset name                                                                                                   dataset id                             disposition   quota     reservation   compression
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crucible                                                              5f368e96-0893-4958-b4fb-9eea3e1d7817   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crucible                                                              03795291-adb8-44b2-91d3-26adb8037ce9   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crucible                                                              c5ccdd1d-5626-4ea9-89c1-0fec6a1c619d   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/clickhouse                                                      77864675-2d2b-4ada-882d-722adc2d5afe   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/external_dns                                                    dd63055a-0993-483b-80e0-9480ea3c4679   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/external_dns                                                    178b2158-600c-44bb-b999-327776db9d2f   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/external_dns                                                    0535aab8-3785-49ac-aefb-3f77db7acdaa   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/internal_dns                                                    b3b5a363-02b6-40ff-b5f4-0fe825f69043   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/internal_dns                                                    4b30b8c3-3eda-4142-812e-450f1d8f3087   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/internal_dns                                                    cc595533-5404-443f-b597-5bcf387bcd6c   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone                                                            b8ad8acf-67d4-478c-980c-81ee64b47198   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone                                                            c57de589-67e7-4ff5-9e6e-8d8d546bf945   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone                                                            fa85705b-8c6e-41cf-a29f-5a0d0e21a8d7   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_clickhouse_4fc6cb68-8ce9-4171-91b3-0106b8fed386        8dffe5ef-69a9-462c-971e-223f0a14e4db   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_crucible_6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8          273669bd-1728-4c01-a166-d8084b947fc6   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_crucible_b0d184c8-0b73-4b29-8add-3a51b4fd60a6          a08c40ae-3bff-418f-a685-d1f807d09542   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_crucible_f401784a-83cb-4e93-a3a3-6914b920d884          de48a162-fe38-4b61-81b5-b498e59b8283   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_crucible_pantry_026f8db9-b966-45ec-bf89-fb7b41a04cc9   ab9df991-9f77-4f25-80c3-b577624fa508   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_crucible_pantry_72d12821-646d-4296-a081-ef5fb3a0ca24   ed4f4782-b991-4bf1-b911-161b342097be   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_crucible_pantry_ae74917b-2c6a-477d-9b90-fe2c2a4247f7   1f46a83b-b222-493b-a18c-516f741ace54   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_external_dns_77de9dbd-c3d4-4445-ae59-e2f3d4c388e0      e876dcf5-61fe-4196-84b9-5db82bab9173   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_external_dns_ac0f0ca6-02dd-43c7-b029-f34b247f7392      b87f5c9e-63b3-40c1-96cb-112b12107d59   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_external_dns_f9b07b90-25a8-42ad-a9e9-e497947f4f30      95e91d74-8cc3-49d8-a0aa-6627d6afc14e   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_internal_dns_0bb572bc-f5b5-48da-9004-ba336e97bf60      5fc27773-26b7-4a01-b26e-d483a14563f1   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_internal_dns_bc221177-0711-4bde-9f3d-32d6a6873c51      7d9b20fc-3699-4dc3-adc4-db2db258ca50   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_internal_dns_fe8bca28-44ac-4968-ba32-292dede5953f      9d23a2e7-f9bd-4618-85f4-9357f598880e   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_nexus_296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5             3bcebc21-c95f-49d8-852e-a8902a6fc3f5   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_nexus_50dcee18-a857-4596-8cb7-fc9cf90b698d             bd3692c0-a3a8-41ac-ba3a-686ebfdf5418   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_nexus_805cba8f-a039-44e1-8cb0-1ff2c6b89997             fbe5adaa-0639-4ace-a096-f3bcb8615e4a   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_ntp_4211daae-e09f-4742-a62a-32080f429cb3               a2495555-34eb-42f7-9c0b-d1799f744adb   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/debug                                                           8849beb6-1b10-4236-be66-0c24a88cf763   in service    100 GiB   none          gzip-9     
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/debug                                                           a1a1c487-26c4-4c94-a0f1-c948b7e77f5b   in service    100 GiB   none          gzip-9     
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/debug                                                           d13e715c-2cc2-48fc-a5bd-23dc0035907a   in service    100 GiB   none          gzip-9     


    omicron zones:
    ----------------------------------------------------------------------------------------------------------------------------------
    zone type         zone id                                image source                         disposition   underlay IP           
    ----------------------------------------------------------------------------------------------------------------------------------
    clickhouse        4fc6cb68-8ce9-4171-91b3-0106b8fed386   install dataset                      in service    fd00:1122:3344:101::25
    crucible          6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8   install dataset                      in service    fd00:1122:3344:101::2d
    crucible          b0d184c8-0b73-4b29-8add-3a51b4fd60a6   install dataset                      in service    fd00:1122:3344:101::2c
    crucible          f401784a-83cb-4e93-a3a3-6914b920d884   install dataset                      in service    fd00:1122:3344:101::2e
    crucible_pantry   026f8db9-b966-45ec-bf89-fb7b41a04cc9   artifact: version 1.2.3              in service    fd00:1122:3344:101::2a
    crucible_pantry   72d12821-646d-4296-a081-ef5fb3a0ca24   artifact: version valid-non-semver   in service    fd00:1122:3344:101::29
    crucible_pantry   ae74917b-2c6a-477d-9b90-fe2c2a4247f7   install dataset                      in service    fd00:1122:3344:101::2b
    external_dns      77de9dbd-c3d4-4445-ae59-e2f3d4c388e0   install dataset                      in service    fd00:1122:3344:101::26
    external_dns      ac0f0ca6-02dd-43c7-b029-f34b247f7392   install dataset                      in service    fd00:1122:3344:101::28
    external_dns      f9b07b90-25a8-42ad-a9e9-e497947f4f30   install dataset                      in service    fd00:1122:3344:101::27
    internal_dns      0bb572bc-f5b5-48da-9004-ba336e97bf60   install dataset                      in service    fd00:1122:3344:1::1   
    internal_dns      bc221177-0711-4bde-9f3d-32d6a6873c51   install dataset                      in service    fd00:1122:3344:2::1   
    internal_dns      fe8bca28-44ac-4968-ba32-292dede5953f   install dataset                      in service    fd00:1122:3344:3::1   
    internal_ntp      4211daae-e09f-4742-a62a-32080f429cb3   install dataset                      in service    fd00:1122:3344:101::21
    nexus             296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5   install dataset                      in service    fd00:1122:3344:101::24
    nexus             50dcee18-a857-4596-8cb7-fc9cf90b698d   install dataset                      in service    fd00:1122:3344:101::22
    nexus             805cba8f-a039-44e1-8cb0-1ff2c6b89997   install dataset                      in service    fd00:1122:3344:101::23


 COCKROACHDB SETTINGS:
    state fingerprint:::::::::::::::::   (none)
    cluster.preserve_downgrade_option:   (do not modify)

 OXIMETER SETTINGS:
    generation:   1
    read from::   SingleNode

 METADATA:
    created by:::::::::::::   reconfigurator-cli
    created at:::::::::::::   <REDACTED_TIMESTAMP>
    comment::::::::::::::::   (none)
    internal DNS version:::   1
    external DNS version:::   1
    target release min gen:   1

 PENDING MGS-MANAGED UPDATES: 0


> blueprint-diff 971eeb12-1830-4fa0-a699-98ea0164505c f714e6ea-e85a-4d7d-93c2-a018744fe176
from: blueprint 971eeb12-1830-4fa0-a699-98ea0164505c
to:   blueprint f714e6ea-e85a-4d7d-93c2-a018744fe176

 MODIFIED SLEDS:

  sled 868d5b02-7792-4fc0-b6a9-654afcae9ea0 (active, config generation 2 -> 4):

    physical disks:
    ------------------------------------------------------------------------------------
    vendor        model        serial                                        disposition
    ------------------------------------------------------------------------------------
    fake-vendor   fake-model   serial-21e758d8-4405-4ea7-9eec-2336e880a29a   in service 
    fake-vendor   fake-model   serial-9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f   in service 
    fake-vendor   fake-model   serial-f7542671-95a1-4a26-ab08-d1e1de7a521d   in service 


    datasets:
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    dataset name                                                                                                   dataset id                             disposition   quota     reservation   compression
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crucible                                                              5f368e96-0893-4958-b4fb-9eea3e1d7817   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crucible                                                              03795291-adb8-44b2-91d3-26adb8037ce9   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crucible                                                              c5ccdd1d-5626-4ea9-89c1-0fec6a1c619d   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/clickhouse                                                      77864675-2d2b-4ada-882d-722adc2d5afe   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/external_dns                                                    dd63055a-0993-483b-80e0-9480ea3c4679   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/external_dns                                                    178b2158-600c-44bb-b999-327776db9d2f   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/external_dns                                                    0535aab8-3785-49ac-aefb-3f77db7acdaa   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/internal_dns                                                    b3b5a363-02b6-40ff-b5f4-0fe825f69043   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/internal_dns                                                    4b30b8c3-3eda-4142-812e-450f1d8f3087   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/internal_dns                                                    cc595533-5404-443f-b597-5bcf387bcd6c   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone                                                            b8ad8acf-67d4-478c-980c-81ee64b47198   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone                                                            c57de589-67e7-4ff5-9e6e-8d8d546bf945   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone                                                            fa85705b-8c6e-41cf-a29f-5a0d0e21a8d7   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_clickhouse_4fc6cb68-8ce9-4171-91b3-0106b8fed386        8dffe5ef-69a9-462c-971e-223f0a14e4db   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_crucible_6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8          273669bd-1728-4c01-a166-d8084b947fc6   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_crucible_b0d184c8-0b73-4b29-8add-3a51b4fd60a6          a08c40ae-3bff-418f-a685-d1f807d09542   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_crucible_f401784a-83cb-4e93-a3a3-6914b920d884          de48a162-fe38-4b61-81b5-b498e59b8283   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_crucible_pantry_026f8db9-b966-45ec-bf89-fb7b41a04cc9   ab9df991-9f77-4f25-80c3-b577624fa508   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_crucible_pantry_72d12821-646d-4296-a081-ef5fb3a0ca24   ed4f4782-b991-4bf1-b911-161b342097be   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_crucible_pantry_ae74917b-2c6a-477d-9b90-fe2c2a4247f7   1f46a83b-b222-493b-a18c-516f741ace54   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_external_dns_77de9dbd-c3d4-4445-ae59-e2f3d4c388e0      e876dcf5-61fe-4196-84b9-5db82bab9173   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_external_dns_ac0f0ca6-02dd-43c7-b029-f34b247f7392      b87f5c9e-63b3-40c1-96cb-112b12107d59   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_external_dns_f9b07b90-25a8-42ad-a9e9-e497947f4f30      95e91d74-8cc3-49d8-a0aa-6627d6afc14e   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_internal_dns_0bb572bc-f5b5-48da-9004-ba336e97bf60      5fc27773-26b7-4a01-b26e-d483a14563f1   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_internal_dns_bc221177-0711-4bde-9f3d-32d6a6873c51      7d9b20fc-3699-4dc3-adc4-db2db258ca50   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_internal_dns_fe8bca28-44ac-4968-ba32-292dede5953f      9d23a2e7-f9bd-4618-85f4-9357f598880e   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_nexus_296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5             3bcebc21-c95f-49d8-852e-a8902a6fc3f5   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_nexus_50dcee18-a857-4596-8cb7-fc9cf90b698d             bd3692c0-a3a8-41ac-ba3a-686ebfdf5418   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_nexus_805cba8f-a039-44e1-8cb0-1ff2c6b89997             fbe5adaa-0639-4ace-a096-f3bcb8615e4a   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_ntp_4211daae-e09f-4742-a62a-32080f429cb3               a2495555-34eb-42f7-9c0b-d1799f744adb   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/debug                                                           8849beb6-1b10-4236-be66-0c24a88cf763   in service    100 GiB   none          gzip-9     
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/debug                                                           a1a1c487-26c4-4c94-a0f1-c948b7e77f5b   in service    100 GiB   none          gzip-9     
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/debug                                                           d13e715c-2cc2-48fc-a5bd-23dc0035907a   in service    100 GiB   none          gzip-9     


    omicron zones:
    ------------------------------------------------------------------------------------------------------------------------------------
    zone type         zone id                                image source                           disposition   underlay IP           
    ------------------------------------------------------------------------------------------------------------------------------------
    clickhouse        4fc6cb68-8ce9-4171-91b3-0106b8fed386   install dataset                        in service    fd00:1122:3344:101::25
    crucible          6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8   install dataset                        in service    fd00:1122:3344:101::2d
    crucible          b0d184c8-0b73-4b29-8add-3a51b4fd60a6   install dataset                        in service    fd00:1122:3344:101::2c
    crucible          f401784a-83cb-4e93-a3a3-6914b920d884   install dataset                        in service    fd00:1122:3344:101::2e
    crucible_pantry   ae74917b-2c6a-477d-9b90-fe2c2a4247f7   install dataset                        in service    fd00:1122:3344:101::2b
    external_dns      77de9dbd-c3d4-4445-ae59-e2f3d4c388e0   install dataset                        in service    fd00:1122:3344:101::26
    external_dns      ac0f0ca6-02dd-43c7-b029-f34b247f7392   install dataset                        in service    fd00:1122:3344:101::28
    external_dns      f9b07b90-25a8-42ad-a9e9-e497947f4f30   install dataset                        in service    fd00:1122:3344:101::27
    internal_dns      0bb572bc-f5b5-48da-9004-ba336e97bf60   install dataset                        in service    fd00:1122:3344:1::1   
    internal_dns      bc221177-0711-4bde-9f3d-32d6a6873c51   install dataset                        in service    fd00:1122:3344:2::1   
    internal_dns      fe8bca28-44ac-4968-ba32-292dede5953f   install dataset                        in service    fd00:1122:3344:3::1   
    internal_ntp      4211daae-e09f-4742-a62a-32080f429cb3   install dataset                        in service    fd00:1122:3344:101::21
    nexus             296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5   install dataset                        in service    fd00:1122:3344:101::24
    nexus             50dcee18-a857-4596-8cb7-fc9cf90b698d   install dataset                        in service    fd00:1122:3344:101::22
    nexus             805cba8f-a039-44e1-8cb0-1ff2c6b89997   install dataset                        in service    fd00:1122:3344:101::23
*   crucible_pantry   026f8db9-b966-45ec-bf89-fb7b41a04cc9   - install dataset                      in service    fd00:1122:3344:101::2a
     └─                                                      + artifact: version 1.2.3                                                  
*   crucible_pantry   72d12821-646d-4296-a081-ef5fb3a0ca24   - install dataset                      in service    fd00:1122:3344:101::29
     └─                                                      + artifact: version valid-non-semver                                       


 COCKROACHDB SETTINGS:
    state fingerprint:::::::::::::::::   (none) (unchanged)
    cluster.preserve_downgrade_option:   (do not modify) (unchanged)

 METADATA:
    internal DNS version:::   1 (unchanged)
    external DNS version:::   1 (unchanged)
    target release min gen:   1 (unchanged)

 OXIMETER SETTINGS:
    generation:   1 (unchanged)
    read from::   SingleNode (unchanged)


internal DNS:
  DNS zone: "control-plane.oxide.internal" (unchanged)
    name: 026f8db9-b966-45ec-bf89-fb7b41a04cc9.host          (records: 1)
        AAAA fd00:1122:3344:101::2a
    name: 0bb572bc-f5b5-48da-9004-ba336e97bf60.host          (records: 1)
        AAAA fd00:1122:3344:1::1
    name: 296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5.host          (records: 1)
        AAAA fd00:1122:3344:101::24
    name: 4211daae-e09f-4742-a62a-32080f429cb3.host          (records: 1)
        AAAA fd00:1122:3344:101::21
    name: 4fc6cb68-8ce9-4171-91b3-0106b8fed386.host          (records: 1)
        AAAA fd00:1122:3344:101::25
    name: 50dcee18-a857-4596-8cb7-fc9cf90b698d.host          (records: 1)
        AAAA fd00:1122:3344:101::22
    name: 6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8.host          (records: 1)
        AAAA fd00:1122:3344:101::2d
    name: 72d12821-646d-4296-a081-ef5fb3a0ca24.host          (records: 1)
        AAAA fd00:1122:3344:101::29
    name: 77de9dbd-c3d4-4445-ae59-e2f3d4c388e0.host          (records: 1)
        AAAA fd00:1122:3344:101::26
    name: 805cba8f-a039-44e1-8cb0-1ff2c6b89997.host          (records: 1)
        AAAA fd00:1122:3344:101::23
    name: 868d5b02-7792-4fc0-b6a9-654afcae9ea0.sled          (records: 1)
        AAAA fd00:1122:3344:101::1
    name: @                                                  (records: 3)
        NS   ns1.control-plane.oxide.internal
        NS   ns2.control-plane.oxide.internal
        NS   ns3.control-plane.oxide.internal
    name: _clickhouse-admin-single-server._tcp               (records: 1)
        SRV  port  8888 4fc6cb68-8ce9-4171-91b3-0106b8fed386.host.control-plane.oxide.internal
    name: _clickhouse-native._tcp                            (records: 1)
        SRV  port  9000 4fc6cb68-8ce9-4171-91b3-0106b8fed386.host.control-plane.oxide.internal
    name: _clickhouse._tcp                                   (records: 1)
        SRV  port  8123 4fc6cb68-8ce9-4171-91b3-0106b8fed386.host.control-plane.oxide.internal
    name: _crucible-pantry._tcp                              (records: 3)
        SRV  port 17000 026f8db9-b966-45ec-bf89-fb7b41a04cc9.host.control-plane.oxide.internal
        SRV  port 17000 72d12821-646d-4296-a081-ef5fb3a0ca24.host.control-plane.oxide.internal
        SRV  port 17000 ae74917b-2c6a-477d-9b90-fe2c2a4247f7.host.control-plane.oxide.internal
    name: _crucible._tcp.6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8 (records: 1)
        SRV  port 32345 6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8.host.control-plane.oxide.internal
    name: _crucible._tcp.b0d184c8-0b73-4b29-8add-3a51b4fd60a6 (records: 1)
        SRV  port 32345 b0d184c8-0b73-4b29-8add-3a51b4fd60a6.host.control-plane.oxide.internal
    name: _crucible._tcp.f401784a-83cb-4e93-a3a3-6914b920d884 (records: 1)
        SRV  port 32345 f401784a-83cb-4e93-a3a3-6914b920d884.host.control-plane.oxide.internal
    name: _external-dns._tcp                                 (records: 3)
        SRV  port  5353 77de9dbd-c3d4-4445-ae59-e2f3d4c388e0.host.control-plane.oxide.internal
        SRV  port  5353 ac0f0ca6-02dd-43c7-b029-f34b247f7392.host.control-plane.oxide.internal
        SRV  port  5353 f9b07b90-25a8-42ad-a9e9-e497947f4f30.host.control-plane.oxide.internal
    name: _internal-ntp._tcp                                 (records: 1)
        SRV  port   123 4211daae-e09f-4742-a62a-32080f429cb3.host.control-plane.oxide.internal
    name: _nameservice._tcp                                  (records: 3)
        SRV  port  5353 0bb572bc-f5b5-48da-9004-ba336e97bf60.host.control-plane.oxide.internal
        SRV  port  5353 bc221177-0711-4bde-9f3d-32d6a6873c51.host.control-plane.oxide.internal
        SRV  port  5353 fe8bca28-44ac-4968-ba32-292dede5953f.host.control-plane.oxide.internal
    name: _nexus._tcp                                        (records: 3)
        SRV  port 12221 296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5.host.control-plane.oxide.internal
        SRV  port 12221 50dcee18-a857-4596-8cb7-fc9cf90b698d.host.control-plane.oxide.internal
        SRV  port 12221 805cba8f-a039-44e1-8cb0-1ff2c6b89997.host.control-plane.oxide.internal
    name: _oximeter-reader._tcp                              (records: 1)
        SRV  port  9000 4fc6cb68-8ce9-4171-91b3-0106b8fed386.host.control-plane.oxide.internal
    name: _repo-depot._tcp                                   (records: 1)
        SRV  port 12348 868d5b02-7792-4fc0-b6a9-654afcae9ea0.sled.control-plane.oxide.internal
    name: ac0f0ca6-02dd-43c7-b029-f34b247f7392.host          (records: 1)
        AAAA fd00:1122:3344:101::28
    name: ae74917b-2c6a-477d-9b90-fe2c2a4247f7.host          (records: 1)
        AAAA fd00:1122:3344:101::2b
    name: b0d184c8-0b73-4b29-8add-3a51b4fd60a6.host          (records: 1)
        AAAA fd00:1122:3344:101::2c
    name: bc221177-0711-4bde-9f3d-32d6a6873c51.host          (records: 1)
        AAAA fd00:1122:3344:2::1
    name: f401784a-83cb-4e93-a3a3-6914b920d884.host          (records: 1)
        AAAA fd00:1122:3344:101::2e
    name: f9b07b90-25a8-42ad-a9e9-e497947f4f30.host          (records: 1)
        AAAA fd00:1122:3344:101::27
    name: fe8bca28-44ac-4968-ba32-292dede5953f.host          (records: 1)
        AAAA fd00:1122:3344:3::1
    name: ns1                                                (records: 1)
        AAAA fd00:1122:3344:1::1
    name: ns2                                                (records: 1)
        AAAA fd00:1122:3344:2::1
    name: ns3                                                (records: 1)
        AAAA fd00:1122:3344:3::1

external DNS:
  DNS zone: "oxide.example" (unchanged)
    name: @                                                  (records: 3)
        NS   ns1.oxide.example
        NS   ns2.oxide.example
        NS   ns3.oxide.example
    name: example-silo.sys                                   (records: 3)
        A    192.0.2.4
        A    192.0.2.2
        A    192.0.2.3
    name: ns1                                                (records: 1)
        A    198.51.100.1
    name: ns2                                                (records: 1)
        A    198.51.100.2
    name: ns3                                                (records: 1)
        A    198.51.100.3




> # Set these zones' image sources back to the install dataset.
> blueprint-edit latest set-zone-image 026f8db9-b966-45ec-bf89-fb7b41a04cc9 install-dataset
blueprint bb128f06-a2e1-44c1-8874-4f789d0ff896 created from latest blueprint (f714e6ea-e85a-4d7d-93c2-a018744fe176): set sled 868d5b02-7792-4fc0-b6a9-654afcae9ea0 zone 026f8db9-b966-45ec-bf89-fb7b41a04cc9 image source to install dataset
warn: no validation is done on the requested image source

> blueprint-edit latest set-zone-image 72d12821-646d-4296-a081-ef5fb3a0ca24 install-dataset
blueprint d9c572a1-a68c-4945-b1ec-5389bd588fe9 created from latest blueprint (bb128f06-a2e1-44c1-8874-4f789d0ff896): set sled 868d5b02-7792-4fc0-b6a9-654afcae9ea0 zone 72d12821-646d-4296-a081-ef5fb3a0ca24 image source to install dataset
warn: no validation is done on the requested image source

> blueprint-show d9c572a1-a68c-4945-b1ec-5389bd588fe9
blueprint  d9c572a1-a68c-4945-b1ec-5389bd588fe9
parent:    bb128f06-a2e1-44c1-8874-4f789d0ff896

  sled: 868d5b02-7792-4fc0-b6a9-654afcae9ea0 (active, config generation 6)

    physical disks:
    ------------------------------------------------------------------------------------
    vendor        model        serial                                        disposition
    ------------------------------------------------------------------------------------
    fake-vendor   fake-model   serial-21e758d8-4405-4ea7-9eec-2336e880a29a   in service 
    fake-vendor   fake-model   serial-9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f   in service 
    fake-vendor   fake-model   serial-f7542671-95a1-4a26-ab08-d1e1de7a521d   in service 


    datasets:
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    dataset name                                                                                                   dataset id                             disposition   quota     reservation   compression
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crucible                                                              5f368e96-0893-4958-b4fb-9eea3e1d7817   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crucible                                                              03795291-adb8-44b2-91d3-26adb8037ce9   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crucible                                                              c5ccdd1d-5626-4ea9-89c1-0fec6a1c619d   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/clickhouse                                                      77864675-2d2b-4ada-882d-722adc2d5afe   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/external_dns                                                    dd63055a-0993-483b-80e0-9480ea3c4679   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/external_dns                                                    178b2158-600c-44bb-b999-327776db9d2f   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/external_dns                                                    0535aab8-3785-49ac-aefb-3f77db7acdaa   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/internal_dns                                                    b3b5a363-02b6-40ff-b5f4-0fe825f69043   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/internal_dns                                                    4b30b8c3-3eda-4142-812e-450f1d8f3087   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/internal_dns                                                    cc595533-5404-443f-b597-5bcf387bcd6c   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone                                                            b8ad8acf-67d4-478c-980c-81ee64b47198   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone                                                            c57de589-67e7-4ff5-9e6e-8d8d546bf945   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone                                                            fa85705b-8c6e-41cf-a29f-5a0d0e21a8d7   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_clickhouse_4fc6cb68-8ce9-4171-91b3-0106b8fed386        8dffe5ef-69a9-462c-971e-223f0a14e4db   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_crucible_6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8          273669bd-1728-4c01-a166-d8084b947fc6   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_crucible_b0d184c8-0b73-4b29-8add-3a51b4fd60a6          a08c40ae-3bff-418f-a685-d1f807d09542   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_crucible_f401784a-83cb-4e93-a3a3-6914b920d884          de48a162-fe38-4b61-81b5-b498e59b8283   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_crucible_pantry_026f8db9-b966-45ec-bf89-fb7b41a04cc9   ab9df991-9f77-4f25-80c3-b577624fa508   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_crucible_pantry_72d12821-646d-4296-a081-ef5fb3a0ca24   ed4f4782-b991-4bf1-b911-161b342097be   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_crucible_pantry_ae74917b-2c6a-477d-9b90-fe2c2a4247f7   1f46a83b-b222-493b-a18c-516f741ace54   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_external_dns_77de9dbd-c3d4-4445-ae59-e2f3d4c388e0      e876dcf5-61fe-4196-84b9-5db82bab9173   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_external_dns_ac0f0ca6-02dd-43c7-b029-f34b247f7392      b87f5c9e-63b3-40c1-96cb-112b12107d59   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_external_dns_f9b07b90-25a8-42ad-a9e9-e497947f4f30      95e91d74-8cc3-49d8-a0aa-6627d6afc14e   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_internal_dns_0bb572bc-f5b5-48da-9004-ba336e97bf60      5fc27773-26b7-4a01-b26e-d483a14563f1   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_internal_dns_bc221177-0711-4bde-9f3d-32d6a6873c51      7d9b20fc-3699-4dc3-adc4-db2db258ca50   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_internal_dns_fe8bca28-44ac-4968-ba32-292dede5953f      9d23a2e7-f9bd-4618-85f4-9357f598880e   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_nexus_296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5             3bcebc21-c95f-49d8-852e-a8902a6fc3f5   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_nexus_50dcee18-a857-4596-8cb7-fc9cf90b698d             bd3692c0-a3a8-41ac-ba3a-686ebfdf5418   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_nexus_805cba8f-a039-44e1-8cb0-1ff2c6b89997             fbe5adaa-0639-4ace-a096-f3bcb8615e4a   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_ntp_4211daae-e09f-4742-a62a-32080f429cb3               a2495555-34eb-42f7-9c0b-d1799f744adb   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/debug                                                           8849beb6-1b10-4236-be66-0c24a88cf763   in service    100 GiB   none          gzip-9     
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/debug                                                           a1a1c487-26c4-4c94-a0f1-c948b7e77f5b   in service    100 GiB   none          gzip-9     
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/debug                                                           d13e715c-2cc2-48fc-a5bd-23dc0035907a   in service    100 GiB   none          gzip-9     


    omicron zones:
    ---------------------------------------------------------------------------------------------------------------
    zone type         zone id                                image source      disposition   underlay IP           
    ---------------------------------------------------------------------------------------------------------------
    clickhouse        4fc6cb68-8ce9-4171-91b3-0106b8fed386   install dataset   in service    fd00:1122:3344:101::25
    crucible          6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8   install dataset   in service    fd00:1122:3344:101::2d
    crucible          b0d184c8-0b73-4b29-8add-3a51b4fd60a6   install dataset   in service    fd00:1122:3344:101::2c
    crucible          f401784a-83cb-4e93-a3a3-6914b920d884   install dataset   in service    fd00:1122:3344:101::2e
    crucible_pantry   026f8db9-b966-45ec-bf89-fb7b41a04cc9   install dataset   in service    fd00:1122:3344:101::2a
    crucible_pantry   72d12821-646d-4296-a081-ef5fb3a0ca24   install dataset   in service    fd00:1122:3344:101::29
    crucible_pantry   ae74917b-2c6a-477d-9b90-fe2c2a4247f7   install dataset   in service    fd00:1122:3344:101::2b
    external_dns      77de9dbd-c3d4-4445-ae59-e2f3d4c388e0   install dataset   in service    fd00:1122:3344:101::26
    external_dns      ac0f0ca6-02dd-43c7-b029-f34b247f7392   install dataset   in service    fd00:1122:3344:101::28
    external_dns      f9b07b90-25a8-42ad-a9e9-e497947f4f30   install dataset   in service    fd00:1122:3344:101::27
    internal_dns      0bb572bc-f5b5-48da-9004-ba336e97bf60   install dataset   in service    fd00:1122:3344:1::1   
    internal_dns      bc221177-0711-4bde-9f3d-32d6a6873c51   install dataset   in service    fd00:1122:3344:2::1   
    internal_dns      fe8bca28-44ac-4968-ba32-292dede5953f   install dataset   in service    fd00:1122:3344:3::1   
    internal_ntp      4211daae-e09f-4742-a62a-32080f429cb3   install dataset   in service    fd00:1122:3344:101::21
    nexus             296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5   install dataset   in service    fd00:1122:3344:101::24
    nexus             50dcee18-a857-4596-8cb7-fc9cf90b698d   install dataset   in service    fd00:1122:3344:101::22
    nexus             805cba8f-a039-44e1-8cb0-1ff2c6b89997   install dataset   in service    fd00:1122:3344:101::23


 COCKROACHDB SETTINGS:
    state fingerprint:::::::::::::::::   (none)
    cluster.preserve_downgrade_option:   (do not modify)

 OXIMETER SETTINGS:
    generation:   1
    read from::   SingleNode

 METADATA:
    created by:::::::::::::   reconfigurator-cli
    created at:::::::::::::   <REDACTED_TIMESTAMP>
    comment::::::::::::::::   (none)
    internal DNS version:::   1
    external DNS version:::   1
    target release min gen:   1

 PENDING MGS-MANAGED UPDATES: 0


> blueprint-diff f714e6ea-e85a-4d7d-93c2-a018744fe176 d9c572a1-a68c-4945-b1ec-5389bd588fe9
from: blueprint f714e6ea-e85a-4d7d-93c2-a018744fe176
to:   blueprint d9c572a1-a68c-4945-b1ec-5389bd588fe9

 MODIFIED SLEDS:

  sled 868d5b02-7792-4fc0-b6a9-654afcae9ea0 (active, config generation 4 -> 6):

    physical disks:
    ------------------------------------------------------------------------------------
    vendor        model        serial                                        disposition
    ------------------------------------------------------------------------------------
    fake-vendor   fake-model   serial-21e758d8-4405-4ea7-9eec-2336e880a29a   in service 
    fake-vendor   fake-model   serial-9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f   in service 
    fake-vendor   fake-model   serial-f7542671-95a1-4a26-ab08-d1e1de7a521d   in service 


    datasets:
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    dataset name                                                                                                   dataset id                             disposition   quota     reservation   compression
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crucible                                                              5f368e96-0893-4958-b4fb-9eea3e1d7817   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crucible                                                              03795291-adb8-44b2-91d3-26adb8037ce9   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crucible                                                              c5ccdd1d-5626-4ea9-89c1-0fec6a1c619d   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/clickhouse                                                      77864675-2d2b-4ada-882d-722adc2d5afe   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/external_dns                                                    dd63055a-0993-483b-80e0-9480ea3c4679   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/external_dns                                                    178b2158-600c-44bb-b999-327776db9d2f   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/external_dns                                                    0535aab8-3785-49ac-aefb-3f77db7acdaa   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/internal_dns                                                    b3b5a363-02b6-40ff-b5f4-0fe825f69043   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/internal_dns                                                    4b30b8c3-3eda-4142-812e-450f1d8f3087   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/internal_dns                                                    cc595533-5404-443f-b597-5bcf387bcd6c   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone                                                            b8ad8acf-67d4-478c-980c-81ee64b47198   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone                                                            c57de589-67e7-4ff5-9e6e-8d8d546bf945   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone                                                            fa85705b-8c6e-41cf-a29f-5a0d0e21a8d7   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_clickhouse_4fc6cb68-8ce9-4171-91b3-0106b8fed386        8dffe5ef-69a9-462c-971e-223f0a14e4db   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_crucible_6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8          273669bd-1728-4c01-a166-d8084b947fc6   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_crucible_b0d184c8-0b73-4b29-8add-3a51b4fd60a6          a08c40ae-3bff-418f-a685-d1f807d09542   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_crucible_f401784a-83cb-4e93-a3a3-6914b920d884          de48a162-fe38-4b61-81b5-b498e59b8283   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_crucible_pantry_026f8db9-b966-45ec-bf89-fb7b41a04cc9   ab9df991-9f77-4f25-80c3-b577624fa508   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_crucible_pantry_72d12821-646d-4296-a081-ef5fb3a0ca24   ed4f4782-b991-4bf1-b911-161b342097be   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_crucible_pantry_ae74917b-2c6a-477d-9b90-fe2c2a4247f7   1f46a83b-b222-493b-a18c-516f741ace54   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_external_dns_77de9dbd-c3d4-4445-ae59-e2f3d4c388e0      e876dcf5-61fe-4196-84b9-5db82bab9173   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_external_dns_ac0f0ca6-02dd-43c7-b029-f34b247f7392      b87f5c9e-63b3-40c1-96cb-112b12107d59   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_external_dns_f9b07b90-25a8-42ad-a9e9-e497947f4f30      95e91d74-8cc3-49d8-a0aa-6627d6afc14e   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_internal_dns_0bb572bc-f5b5-48da-9004-ba336e97bf60      5fc27773-26b7-4a01-b26e-d483a14563f1   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_internal_dns_bc221177-0711-4bde-9f3d-32d6a6873c51      7d9b20fc-3699-4dc3-adc4-db2db258ca50   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_internal_dns_fe8bca28-44ac-4968-ba32-292dede5953f      9d23a2e7-f9bd-4618-85f4-9357f598880e   in service    none      none          off        
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/zone/oxz_nexus_296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5             3bcebc21-c95f-49d8-852e-a8902a6fc3f5   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_nexus_50dcee18-a857-4596-8cb7-fc9cf90b698d             bd3692c0-a3a8-41ac-ba3a-686ebfdf5418   in service    none      none          off        
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/zone/oxz_nexus_805cba8f-a039-44e1-8cb0-1ff2c6b89997             fbe5adaa-0639-4ace-a096-f3bcb8615e4a   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/zone/oxz_ntp_4211daae-e09f-4742-a62a-32080f429cb3               a2495555-34eb-42f7-9c0b-d1799f744adb   in service    none      none          off        
    oxp_21e758d8-4405-4ea7-9eec-2336e880a29a/crypt/debug                                                           8849beb6-1b10-4236-be66-0c24a88cf763   in service    100 GiB   none          gzip-9     
    oxp_9c20d4a3-20b1-4c1a-b7df-5f049f2ffe0f/crypt/debug                                                           a1a1c487-26c4-4c94-a0f1-c948b7e77f5b   in service    100 GiB   none          gzip-9     
    oxp_f7542671-95a1-4a26-ab08-d1e1de7a521d/crypt/debug                                                           d13e715c-2cc2-48fc-a5bd-23dc0035907a   in service    100 GiB   none          gzip-9     


    omicron zones:
    ------------------------------------------------------------------------------------------------------------------------------------
    zone type         zone id                                image source                           disposition   underlay IP           
    ------------------------------------------------------------------------------------------------------------------------------------
    clickhouse        4fc6cb68-8ce9-4171-91b3-0106b8fed386   install dataset                        in service    fd00:1122:3344:101::25
    crucible          6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8   install dataset                        in service    fd00:1122:3344:101::2d
    crucible          b0d184c8-0b73-4b29-8add-3a51b4fd60a6   install dataset                        in service    fd00:1122:3344:101::2c
    crucible          f401784a-83cb-4e93-a3a3-6914b920d884   install dataset                        in service    fd00:1122:3344:101::2e
    crucible_pantry   ae74917b-2c6a-477d-9b90-fe2c2a4247f7   install dataset                        in service    fd00:1122:3344:101::2b
    external_dns      77de9dbd-c3d4-4445-ae59-e2f3d4c388e0   install dataset                        in service    fd00:1122:3344:101::26
    external_dns      ac0f0ca6-02dd-43c7-b029-f34b247f7392   install dataset                        in service    fd00:1122:3344:101::28
    external_dns      f9b07b90-25a8-42ad-a9e9-e497947f4f30   install dataset                        in service    fd00:1122:3344:101::27
    internal_dns      0bb572bc-f5b5-48da-9004-ba336e97bf60   install dataset                        in service    fd00:1122:3344:1::1   
    internal_dns      bc221177-0711-4bde-9f3d-32d6a6873c51   install dataset                        in service    fd00:1122:3344:2::1   
    internal_dns      fe8bca28-44ac-4968-ba32-292dede5953f   install dataset                        in service    fd00:1122:3344:3::1   
    internal_ntp      4211daae-e09f-4742-a62a-32080f429cb3   install dataset                        in service    fd00:1122:3344:101::21
    nexus             296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5   install dataset                        in service    fd00:1122:3344:101::24
    nexus             50dcee18-a857-4596-8cb7-fc9cf90b698d   install dataset                        in service    fd00:1122:3344:101::22
    nexus             805cba8f-a039-44e1-8cb0-1ff2c6b89997   install dataset                        in service    fd00:1122:3344:101::23
*   crucible_pantry   026f8db9-b966-45ec-bf89-fb7b41a04cc9   - artifact: version 1.2.3              in service    fd00:1122:3344:101::2a
     └─                                                      + install dataset                                                          
*   crucible_pantry   72d12821-646d-4296-a081-ef5fb3a0ca24   - artifact: version valid-non-semver   in service    fd00:1122:3344:101::29
     └─                                                      + install dataset                                                          


 COCKROACHDB SETTINGS:
    state fingerprint:::::::::::::::::   (none) (unchanged)
    cluster.preserve_downgrade_option:   (do not modify) (unchanged)

 METADATA:
    internal DNS version:::   1 (unchanged)
    external DNS version:::   1 (unchanged)
    target release min gen:   1 (unchanged)

 OXIMETER SETTINGS:
    generation:   1 (unchanged)
    read from::   SingleNode (unchanged)


internal DNS:
  DNS zone: "control-plane.oxide.internal" (unchanged)
    name: 026f8db9-b966-45ec-bf89-fb7b41a04cc9.host          (records: 1)
        AAAA fd00:1122:3344:101::2a
    name: 0bb572bc-f5b5-48da-9004-ba336e97bf60.host          (records: 1)
        AAAA fd00:1122:3344:1::1
    name: 296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5.host          (records: 1)
        AAAA fd00:1122:3344:101::24
    name: 4211daae-e09f-4742-a62a-32080f429cb3.host          (records: 1)
        AAAA fd00:1122:3344:101::21
    name: 4fc6cb68-8ce9-4171-91b3-0106b8fed386.host          (records: 1)
        AAAA fd00:1122:3344:101::25
    name: 50dcee18-a857-4596-8cb7-fc9cf90b698d.host          (records: 1)
        AAAA fd00:1122:3344:101::22
    name: 6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8.host          (records: 1)
        AAAA fd00:1122:3344:101::2d
    name: 72d12821-646d-4296-a081-ef5fb3a0ca24.host          (records: 1)
        AAAA fd00:1122:3344:101::29
    name: 77de9dbd-c3d4-4445-ae59-e2f3d4c388e0.host          (records: 1)
        AAAA fd00:1122:3344:101::26
    name: 805cba8f-a039-44e1-8cb0-1ff2c6b89997.host          (records: 1)
        AAAA fd00:1122:3344:101::23
    name: 868d5b02-7792-4fc0-b6a9-654afcae9ea0.sled          (records: 1)
        AAAA fd00:1122:3344:101::1
    name: @                                                  (records: 3)
        NS   ns1.control-plane.oxide.internal
        NS   ns2.control-plane.oxide.internal
        NS   ns3.control-plane.oxide.internal
    name: _clickhouse-admin-single-server._tcp               (records: 1)
        SRV  port  8888 4fc6cb68-8ce9-4171-91b3-0106b8fed386.host.control-plane.oxide.internal
    name: _clickhouse-native._tcp                            (records: 1)
        SRV  port  9000 4fc6cb68-8ce9-4171-91b3-0106b8fed386.host.control-plane.oxide.internal
    name: _clickhouse._tcp                                   (records: 1)
        SRV  port  8123 4fc6cb68-8ce9-4171-91b3-0106b8fed386.host.control-plane.oxide.internal
    name: _crucible-pantry._tcp                              (records: 3)
        SRV  port 17000 026f8db9-b966-45ec-bf89-fb7b41a04cc9.host.control-plane.oxide.internal
        SRV  port 17000 72d12821-646d-4296-a081-ef5fb3a0ca24.host.control-plane.oxide.internal
        SRV  port 17000 ae74917b-2c6a-477d-9b90-fe2c2a4247f7.host.control-plane.oxide.internal
    name: _crucible._tcp.6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8 (records: 1)
        SRV  port 32345 6cf2a0d4-d9da-4a0c-9103-f1cddb6663a8.host.control-plane.oxide.internal
    name: _crucible._tcp.b0d184c8-0b73-4b29-8add-3a51b4fd60a6 (records: 1)
        SRV  port 32345 b0d184c8-0b73-4b29-8add-3a51b4fd60a6.host.control-plane.oxide.internal
    name: _crucible._tcp.f401784a-83cb-4e93-a3a3-6914b920d884 (records: 1)
        SRV  port 32345 f401784a-83cb-4e93-a3a3-6914b920d884.host.control-plane.oxide.internal
    name: _external-dns._tcp                                 (records: 3)
        SRV  port  5353 77de9dbd-c3d4-4445-ae59-e2f3d4c388e0.host.control-plane.oxide.internal
        SRV  port  5353 ac0f0ca6-02dd-43c7-b029-f34b247f7392.host.control-plane.oxide.internal
        SRV  port  5353 f9b07b90-25a8-42ad-a9e9-e497947f4f30.host.control-plane.oxide.internal
    name: _internal-ntp._tcp                                 (records: 1)
        SRV  port   123 4211daae-e09f-4742-a62a-32080f429cb3.host.control-plane.oxide.internal
    name: _nameservice._tcp                                  (records: 3)
        SRV  port  5353 0bb572bc-f5b5-48da-9004-ba336e97bf60.host.control-plane.oxide.internal
        SRV  port  5353 bc221177-0711-4bde-9f3d-32d6a6873c51.host.control-plane.oxide.internal
        SRV  port  5353 fe8bca28-44ac-4968-ba32-292dede5953f.host.control-plane.oxide.internal
    name: _nexus._tcp                                        (records: 3)
        SRV  port 12221 296ab8b3-3fd4-4c2b-9e0a-1f909e4993e5.host.control-plane.oxide.internal
        SRV  port 12221 50dcee18-a857-4596-8cb7-fc9cf90b698d.host.control-plane.oxide.internal
        SRV  port 12221 805cba8f-a039-44e1-8cb0-1ff2c6b89997.host.control-plane.oxide.internal
    name: _oximeter-reader._tcp                              (records: 1)
        SRV  port  9000 4fc6cb68-8ce9-4171-91b3-0106b8fed386.host.control-plane.oxide.internal
    name: _repo-depot._tcp                                   (records: 1)
        SRV  port 12348 868d5b02-7792-4fc0-b6a9-654afcae9ea0.sled.control-plane.oxide.internal
    name: ac0f0ca6-02dd-43c7-b029-f34b247f7392.host          (records: 1)
        AAAA fd00:1122:3344:101::28
    name: ae74917b-2c6a-477d-9b90-fe2c2a4247f7.host          (records: 1)
        AAAA fd00:1122:3344:101::2b
    name: b0d184c8-0b73-4b29-8add-3a51b4fd60a6.host          (records: 1)
        AAAA fd00:1122:3344:101::2c
    name: bc221177-0711-4bde-9f3d-32d6a6873c51.host          (records: 1)
        AAAA fd00:1122:3344:2::1
    name: f401784a-83cb-4e93-a3a3-6914b920d884.host          (records: 1)
        AAAA fd00:1122:3344:101::2e
    name: f9b07b90-25a8-42ad-a9e9-e497947f4f30.host          (records: 1)
        AAAA fd00:1122:3344:101::27
    name: fe8bca28-44ac-4968-ba32-292dede5953f.host          (records: 1)
        AAAA fd00:1122:3344:3::1
    name: ns1                                                (records: 1)
        AAAA fd00:1122:3344:1::1
    name: ns2                                                (records: 1)
        AAAA fd00:1122:3344:2::1
    name: ns3                                                (records: 1)
        AAAA fd00:1122:3344:3::1

external DNS:
  DNS zone: "oxide.example" (unchanged)
    name: @                                                  (records: 3)
        NS   ns1.oxide.example
        NS   ns2.oxide.example
        NS   ns3.oxide.example
    name: example-silo.sys                                   (records: 3)
        A    192.0.2.4
        A    192.0.2.2
        A    192.0.2.3
    name: ns1                                                (records: 1)
        A    198.51.100.1
    name: ns2                                                (records: 1)
        A    198.51.100.2
    name: ns3                                                (records: 1)
        A    198.51.100.3




> # test help output
> blueprint-edit latest help
edit contents of a blueprint directly

Usage: blueprint-edit [OPTIONS] <BLUEPRINT_ID> <COMMAND>

Commands:
  add-nexus
          add a Nexus instance to a particular sled
  add-cockroach
          add a CockroachDB instance to a particular sled
  set-zone-image
          set the image source for a zone
  set-remove-mupdate-override
          set the remove_mupdate_override field for a sled
  set-target-release-minimum-generation
          set the minimum generation for which target releases are accepted [aliases:
          set-target-release-min-gen]
  expunge-zone
          expunge a zone
  mark-for-cleanup
          mark an expunged zone ready for cleanup
  set-sp-update
          configure an SP update
  delete-sp-update
          delete a configured SP update
  debug
          debug commands that bypass normal checks
  help
          Print this message or the help of the given subcommand(s)

Arguments:
  <BLUEPRINT_ID>  id of the blueprint to edit, "latest", or "target"

Options:
      --creator <CREATOR>  "creator" field for the new blueprint
      --comment <COMMENT>  "comment" field for the new blueprint
  -h, --help               Print help

> blueprint-edit latest set-zone-image help
set the image source for a zone

Usage: blueprint-edit <BLUEPRINT_ID> set-zone-image <ZONE_ID> <COMMAND>

Commands:
  install-dataset  the zone image comes from the `install` dataset
  artifact         the zone image comes from a specific TUF repo artifact
  help             Print this message or the help of the given subcommand(s)

Arguments:
  <ZONE_ID>  id of zone whose image to set

Options:
  -h, --help  Print help


> # test error case: no such zone id
> blueprint-edit latest set-zone-image 126f8db9-b966-45ec-bf89-fb7b41a04cc9 install-dataset
error: could not find parent sled for zone 126f8db9-b966-45ec-bf89-fb7b41a04cc9

> # test error case: invalid version identifier
> blueprint-edit latest set-zone-image 026f8db9-b966-45ec-bf89-fb7b41a04cc9 artifact 🫡 5d835e8666bd5cf65be66efbca6847b24e41fd85993448a211ad7be5fea559ab

> # test error case: bad hash
> blueprint-edit latest set-zone-image 026f8db9-b966-45ec-bf89-fb7b41a04cc9 artifact 1.2.3 aaaa

